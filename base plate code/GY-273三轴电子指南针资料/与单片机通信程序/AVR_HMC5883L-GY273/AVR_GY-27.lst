__text_start:
__start:
      AF EFCF      LDI	R28,0xFF
      B0 E2D1      LDI	R29,0x21
      B1 BFCD      OUT	0x3D,R28
      B2 BFDE      OUT	0x3E,R29
      B3 51CE      SUBI	R28,0x1E
      B4 40D0      SBCI	R29,0
      B5 EA0A      LDI	R16,0xAA
      B6 8308      STD	Y+0,R16
      B7 2400      CLR	R0
      B8 E0E5      LDI	R30,5
      B9 E0F2      LDI	R31,2
      BA E012      LDI	R17,2
      BB 30E7      CPI	R30,7
      BC 07F1      CPC	R31,R17
      BD F011      BEQ	0x00C0
      BE 9201      ST	R0,Z+
      BF CFFB      RJMP	0x00BB
      C0 8300      STD	Z+0,R16
      C1 E5E8      LDI	R30,0x58
      C2 E0F1      LDI	R31,1
      C3 E0A0      LDI	R26,0
      C4 E0B2      LDI	R27,2
      C5 E011      LDI	R17,1
      C6 E000      LDI	R16,0
      C7 BF0B      OUT	0x3B,R16
      C8 35ED      CPI	R30,0x5D
      C9 07F1      CPC	R31,R17
      CA F021      BEQ	0x00CF
      CB 95C8      LPM
      CC 9631      ADIW	R30,1
      CD 920D      ST	R0,X+
      CE CFF9      RJMP	0x00C8
      CF 940E 02ED CALL	_main
_exit:
      D1 CFFF      RJMP	_exit
FILE: D:\MCU_Project\MCU_AVR\AVR_GY-27\delay.h
(0001) /*-----------------------------------------------------------------------
(0002) 延时函数
(0003) 编译器：ICC-AVR v6.31A 
(0004) 目标芯片 : M16
(0005) 时钟: 8.0000Mhz
(0006) -----------------------------------------------------------------------*/
(0007) #ifndef __delay_h
(0008) #define __delay_h
(0009) void delay_nus(unsigned int n);
(0010) void delay_nms(unsigned int n);
(0011) void delay_1us(void);
(0012) void delay_1ms(void) ; 
(0013) 
(0014) void delay_1us(void)                 //1us延时函数
(0015)   {
(0016)    asm("nop");
_delay_1us:
      D2 0000      NOP
(0017)    asm("nop");
      D3 0000      NOP
(0018)    asm("nop");
      D4 0000      NOP
(0019)    asm("nop");
      D5 0000      NOP
(0020)    asm("nop");
      D6 0000      NOP
      D7 9508      RET
_delay_nus:
  i                    --> R20
  n                    --> R10
      D8 940E 0345 CALL	push_xgset300C
      DA 0158      MOVW	R10,R16
(0021)   }
(0022) 
(0023) void delay_nus(unsigned int n)       //N us延时函数
(0024)   {
(0025)    unsigned int i=0;
      DB 2744      CLR	R20
      DC 2755      CLR	R21
(0026)    for (i=0;i<n;i++)
      DD C003      RJMP	0x00E1
(0027)    delay_1us();
      DE DFF3      RCALL	_delay_1us
      DF 5F4F      SUBI	R20,0xFF
      E0 4F5F      SBCI	R21,0xFF
      E1 154A      CP	R20,R10
      E2 055B      CPC	R21,R11
      E3 F3D0      BCS	0x00DE
      E4 940C 034A JMP	pop_xgset300C
(0028)   }
(0029)   
(0030) void delay_1ms(void)                 //1ms延时函数
(0031)   {
(0032)    unsigned int i;
(0033)    for (i=0;i<500;i++);
_delay_1ms:
  i                    --> R16
      E6 2700      CLR	R16
      E7 2711      CLR	R17
      E8 C002      RJMP	0x00EB
      E9 5F0F      SUBI	R16,0xFF
      EA 4F1F      SBCI	R17,0xFF
      EB 3F04      CPI	R16,0xF4
      EC E0E1      LDI	R30,1
      ED 071E      CPC	R17,R30
      EE F3D0      BCS	0x00E9
      EF 9508      RET
_delay_nms:
  i                    --> R20
  n                    --> R10
      F0 940E 0345 CALL	push_xgset300C
      F2 0158      MOVW	R10,R16
(0034)   }
(0035)   
(0036) void delay_nms(unsigned int n)       //N ms延时函数
(0037)   {
(0038)    unsigned int i=0;
      F3 2744      CLR	R20
      F4 2755      CLR	R21
(0039)    for (i=0;i<n;i++)
      F5 C003      RJMP	0x00F9
(0040)    delay_1ms();
      F6 DFEF      RCALL	_delay_1ms
      F7 5F4F      SUBI	R20,0xFF
      F8 4F5F      SBCI	R21,0xFF
      F9 154A      CP	R20,R10
      FA 055B      CPC	R21,R11
      FB F3D0      BCS	0x00F6
      FC 940C 034A JMP	pop_xgset300C
_I2C_Write:
  Wdata                --> R10
  RegAddress           --> R12
      FE 92AA      ST	R10,-Y
      FF 92CA      ST	R12,-Y
     100 2EA2      MOV	R10,R18
     101 2EC0      MOV	R12,R16
FILE: D:\MCU_Project\MCU_AVR\AVR_GY-27\I2C.h
(0001) #include <macros.h>
(0002) #include "delay.h"
(0003) 
(0004) //使用AVR内部硬件iic，引脚定义
(0005) //PC0->SCL  ;  PC1->SDA
(0006) //I2C 状态定义
(0007) //MT 主方式传输 MR 主方式接受
(0008) #define START			0x08
(0009) #define RE_START		0x10
(0010) #define MT_SLA_ACK		0x18
(0011) #define MT_SLA_NOACK 	0x20
(0012) #define MT_DATA_ACK		0x28
(0013) #define MT_DATA_NOACK	0x30
(0014) #define MR_SLA_ACK		0x40
(0015) #define MR_SLA_NOACK	0x48
(0016) #define MR_DATA_ACK		0x50
(0017) #define MR_DATA_NOACK	0x58	
(0018) 	                            
(0019) #define RD_DEVICE_ADDR  0x3D	   
(0020) #define WD_DEVICE_ADDR  0x3C	   
(0021) 
(0022) //常用TWI操作(主模式写和读)
(0023) #define Start()			(TWCR=(1<<TWINT)|(1<<TWSTA)|(1<<TWEN))		//启动I2C
(0024) #define Stop()			(TWCR=(1<<TWINT)|(1<<TWSTO)|(1<<TWEN))		//停止I2C
(0025) #define Wait()			{while(!(TWCR&(1<<TWINT)));}				//等待中断发生
(0026) #define TestAck()		(TWSR&0xf8)									//观察返回状态
(0027) #define SetAck			(TWCR|=(1<<TWEA))							//做出ACK应答
(0028) #define SetNoAck		(TWCR&=~(1<<TWEA))							//做出Not Ack应答
(0029) #define Twi()			(TWCR=(1<<TWINT)|(1<<TWEN))				    //启动I2C
(0030) #define Write8Bit(x)	{TWDR=(x);TWCR=(1<<TWINT)|(1<<TWEN);}		//写数据到TWDR
(0031) 
(0032) unsigned char I2C_Write(unsigned char RegAddress,unsigned char Wdata);
(0033) unsigned char I2C_Read(unsigned RegAddress);
(0034) 
(0035) /*********************************************
(0036) I2C总线写一个字节
(0037) 返回0:写成功
(0038) 返回1:写失败
(0039) **********************************************/
(0040) unsigned char I2C_Write(unsigned char RegAddress,unsigned char Wdata)
(0041) {
(0042) 	  Start();						//I2C启动
     102 EA84      LDI	R24,0xA4
     103 BF86      OUT	0x36,R24
(0043) 	  Wait();
     104 B626      IN	R2,0x36
     105 FE27      SBRS	R2,7
     106 CFFD      RJMP	0x0104
(0044) 	  if(TestAck()!=START) 
     107 B181      IN	R24,0x01
     108 7F88      ANDI	R24,0xF8
     109 3088      CPI	R24,0x8
     10A F011      BEQ	0x010D
(0045) 		return 1;					//ACK
     10B E001      LDI	R16,1
     10C C02B      RJMP	0x0138
(0046) 	  
(0047) 	  Write8Bit(WD_DEVICE_ADDR);	//写I2C从器件地址和写方式
     10D E38C      LDI	R24,0x3C
     10E B983      OUT	0x03,R24
     10F E884      LDI	R24,0x84
     110 BF86      OUT	0x36,R24
(0048) 	  Wait();
     111 B626      IN	R2,0x36
     112 FE27      SBRS	R2,7
     113 CFFD      RJMP	0x0111
(0049) 	  if(TestAck()!=MT_SLA_ACK) 
     114 B181      IN	R24,0x01
     115 7F88      ANDI	R24,0xF8
     116 3188      CPI	R24,0x18
     117 F011      BEQ	0x011A
(0050) 		return 1;					//ACK
     118 E001      LDI	R16,1
     119 C01E      RJMP	0x0138
(0051) 	  
(0052) 	  Write8Bit(RegAddress);		//写器件相应寄存器地址
     11A B8C3      OUT	0x03,R12
     11B E884      LDI	R24,0x84
     11C BF86      OUT	0x36,R24
(0053) 	  Wait();
     11D B626      IN	R2,0x36
     11E FE27      SBRS	R2,7
     11F CFFD      RJMP	0x011D
(0054) 	  if(TestAck()!=MT_DATA_ACK) 
     120 B181      IN	R24,0x01
     121 7F88      ANDI	R24,0xF8
     122 3288      CPI	R24,0x28
     123 F011      BEQ	0x0126
(0055) 	  	return 1;				    //ACK
     124 E001      LDI	R16,1
     125 C012      RJMP	0x0138
(0056) 	  
(0057) 	  Write8Bit(Wdata);			 	//写数据到器件相应寄存器
     126 B8A3      OUT	0x03,R10
     127 E884      LDI	R24,0x84
     128 BF86      OUT	0x36,R24
(0058) 	  Wait();
     129 B626      IN	R2,0x36
     12A FE27      SBRS	R2,7
     12B CFFD      RJMP	0x0129
(0059) 	  if(TestAck()!=MT_DATA_ACK) 
     12C B181      IN	R24,0x01
     12D 7F88      ANDI	R24,0xF8
     12E 3288      CPI	R24,0x28
     12F F011      BEQ	0x0132
(0060) 	  	return 1;				    //ACK	 
     130 E001      LDI	R16,1
     131 C006      RJMP	0x0138
(0061) 	  Stop();  						//I2C停止
     132 E984      LDI	R24,0x94
     133 BF86      OUT	0x36,R24
(0062)  	delay_nms(10);				//延时  
     134 E00A      LDI	R16,0xA
     135 E010      LDI	R17,0
     136 DFB9      RCALL	_delay_nms
(0063) 	  return 0;
     137 2700      CLR	R16
     138 90C9      LD	R12,Y+
     139 90A9      LD	R10,Y+
     13A 9508      RET
_I2C_Read:
  temp                 --> R10
  RegAddress           --> R16
     13B 92AA      ST	R10,-Y
(0064) }
(0065) 
(0066) /*********************************************
(0067) I2C总线读一个字节
(0068) 返回0:读成功
(0069) 返回1:读失败
(0070) **********************************************/
(0071) 
(0072) unsigned char I2C_Read(unsigned RegAddress)
(0073) 
(0074)  {
(0075) 	 unsigned  char  temp;
(0076) 
(0077) 	   Start();//I2C启动
     13C EA84      LDI	R24,0xA4
     13D BF86      OUT	0x36,R24
(0078) 	   Wait();
     13E B626      IN	R2,0x36
     13F FE27      SBRS	R2,7
     140 CFFD      RJMP	0x013E
(0079) 	   if (TestAck()!=START) 
     141 B181      IN	R24,0x01
     142 7F88      ANDI	R24,0xF8
     143 3088      CPI	R24,0x8
     144 F011      BEQ	0x0147
(0080) 	   	  return 1;			 		//ACK	   
     145 E001      LDI	R16,1
     146 C040      RJMP	0x0187
(0081) 	   
(0082) 	   Write8Bit(WD_DEVICE_ADDR);	//写I2C从器件地址和写方式
     147 E38C      LDI	R24,0x3C
     148 B983      OUT	0x03,R24
     149 E884      LDI	R24,0x84
     14A BF86      OUT	0x36,R24
(0083) 	   Wait(); 
     14B B626      IN	R2,0x36
     14C FE27      SBRS	R2,7
     14D CFFD      RJMP	0x014B
(0084) 	   if (TestAck()!=MT_SLA_ACK) 
     14E B181      IN	R24,0x01
     14F 7F88      ANDI	R24,0xF8
     150 3188      CPI	R24,0x18
     151 F011      BEQ	0x0154
(0085) 	   	  return 1;				    //ACK
     152 E001      LDI	R16,1
     153 C033      RJMP	0x0187
(0086) 	   
(0087) 	   Write8Bit(RegAddress);		//写器件相应寄存器地址
     154 B903      OUT	0x03,R16
     155 E884      LDI	R24,0x84
     156 BF86      OUT	0x36,R24
(0088) 	   Wait();
     157 B626      IN	R2,0x36
     158 FE27      SBRS	R2,7
     159 CFFD      RJMP	0x0157
(0089) 	   if (TestAck()!=MT_DATA_ACK) 
     15A B181      IN	R24,0x01
     15B 7F88      ANDI	R24,0xF8
     15C 3288      CPI	R24,0x28
     15D F011      BEQ	0x0160
(0090) 	   	  return 1;
     15E E001      LDI	R16,1
     15F C027      RJMP	0x0187
(0091) 
(0092) 	    Start();	   				   	//I2C重新启动
     160 EA84      LDI	R24,0xA4
     161 BF86      OUT	0x36,R24
(0093) 	   Wait();
     162 B626      IN	R2,0x36
     163 FE27      SBRS	R2,7
     164 CFFD      RJMP	0x0162
(0094) 	   if (TestAck()!=RE_START)  
     165 B181      IN	R24,0x01
     166 7F88      ANDI	R24,0xF8
     167 3180      CPI	R24,0x10
     168 F011      BEQ	0x016B
(0095) 	   	return 1;
     169 E001      LDI	R16,1
     16A C01C      RJMP	0x0187
(0096) 	   Write8Bit(RD_DEVICE_ADDR);	//写I2C从器件地址和读方式
     16B E38D      LDI	R24,0x3D
     16C B983      OUT	0x03,R24
     16D E884      LDI	R24,0x84
     16E BF86      OUT	0x36,R24
(0097) 	   Wait();
     16F B626      IN	R2,0x36
     170 FE27      SBRS	R2,7
     171 CFFD      RJMP	0x016F
(0098) 	   if(TestAck()!=MR_SLA_ACK)  
     172 B181      IN	R24,0x01
     173 7F88      ANDI	R24,0xF8
     174 3480      CPI	R24,0x40
     175 F011      BEQ	0x0178
(0099) 	   	  return 1;				   //ACK
     176 E001      LDI	R16,1
     177 C00F      RJMP	0x0187
(0100) 	   
(0101) 	   Twi();	 				   //启动主I2C读方式
     178 E884      LDI	R24,0x84
     179 BF86      OUT	0x36,R24
(0102) 	   Wait();
     17A B626      IN	R2,0x36
     17B FE27      SBRS	R2,7
     17C CFFD      RJMP	0x017A
(0103) 	   if(TestAck()!=MR_DATA_NOACK) 
     17D B181      IN	R24,0x01
     17E 7F88      ANDI	R24,0xF8
     17F 3588      CPI	R24,0x58
     180 F011      BEQ	0x0183
(0104) 	   	 return 1;					//ACK	
     181 E001      LDI	R16,1
     182 C004      RJMP	0x0187
(0105) 	   
(0106) 	   temp=TWDR;//读取I2C接收数据
     183 B0A3      IN	R10,0x03
(0107)        Stop();//I2C停止
     184 E984      LDI	R24,0x94
     185 BF86      OUT	0x36,R24
(0108) 	   return temp;
     186 2D0A      MOV	R16,R10
     187 90A9      LD	R10,Y+
     188 9508      RET
FILE: D:\MCU_Project\MCU_AVR\AVR_GY-27\1602.h
(0001) /* 用法：
(0002)    LCD_init();
(0003)    LCD_write_string(列,行,"字符串");
(0004)    LCD_write_char(列,行,'字符'); 
(0005)  ---------------------------------------------------------------
(0006) 下面是AVR与LCD连接信息
(0007)   PC6 ->RS
(0008)   PC7 ->EN
(0009)   地  ->RW
(0010)   PA4 ->D4
(0011)   PA5 ->D5
(0012)   PA6 ->D6
(0013)   PA7 ->D7
(0014) 使用端口：1602:PC6,PC7,PA4~PA7 	
(0015) 要使用本驱动，改变下面配置信息即可
(0016) -----------------------------------------------------------------*/
(0017) #define LCD_EN_PORT    PORTC   //以下2个要设为同一个口
(0018) #define LCD_EN_DDR     DDRC
(0019) #define LCD_RS_PORT    PORTC   //以下2个要设为同一个口
(0020) #define LCD_RS_DDR     DDRC
(0021) #define LCD_DATA_PORT  PORTA   //以下3个要设为同一个口
(0022) #define LCD_DATA_DDR   DDRA    //默认情况下连线必须使用高四位端口,如果不是请注意修改
(0023) #define LCD_DATA_PIN   PINA
(0024) #define LCD_RS         (1<<PC6) //0x20   portC6       out
(0025) #define LCD_EN         (1<<PC7) //0x40   portC7       out
(0026) #define LCD_DATA       ((1<<PA4)|(1<<PA5)|(1<<PA6)|(1<<PA7)) //0xf0   portA 4/5/6/7 out
(0027) /*--------------------------------------------------------------------------------------------------
(0028) 函数说明
(0029) --------------------------------------------------------------------------------------------------*/
(0030) void LCD_init(void);
(0031) void LCD_en_write(void);
(0032) void LCD_write_command(unsigned  char command) ;
(0033) void LCD_write_data(unsigned char data);
(0034) void LCD_set_xy (unsigned char x, unsigned char y);
(0035) void LCD_write_string(unsigned char X,unsigned char Y,unsigned char *s);
(0036) void LCD_write_char(unsigned char X,unsigned char Y,unsigned char data);
(0037) 
(0038) //-----------------------------------------------------------------------------------------
(0039) 
(0040) #include <macros.h>
(0041) #include "delay.h"
(0042) 
(0043) void LCD_init(void)         //液晶初始化
(0044) {
(0045)   LCD_DATA_DDR|=LCD_DATA;   //数据口方向为输出
_LCD_init:
     189 B38A      IN	R24,0x1A
     18A 6F80      ORI	R24,0xF0
     18B BB8A      OUT	0x1A,R24
(0046)   LCD_EN_DDR|=LCD_EN;       //设置EN方向为输出
     18C 9AA7      SBI	0x14,7
(0047)   LCD_RS_DDR|=LCD_RS;       //设置RS方向为输出
     18D 9AA6      SBI	0x14,6
(0048)   LCD_write_command(0x28); 
     18E E208      LDI	R16,0x28
     18F D014      RCALL	_LCD_write_command
(0049)   LCD_en_write();
     190 D00D      RCALL	_LCD_en_write
(0050)   delay_nus(40);
     191 E208      LDI	R16,0x28
     192 E010      LDI	R17,0
     193 DF44      RCALL	_delay_nus
(0051)   LCD_write_command(0x28);  //4位显示
     194 E208      LDI	R16,0x28
     195 D00E      RCALL	_LCD_write_command
(0052)   LCD_write_command(0x0c);  //显示开
     196 E00C      LDI	R16,0xC
     197 D00C      RCALL	_LCD_write_command
(0053)   LCD_write_command(0x01);  //清屏
     198 E001      LDI	R16,1
     199 D00A      RCALL	_LCD_write_command
(0054)   delay_nms(10);
     19A E00A      LDI	R16,0xA
     19B E010      LDI	R17,0
     19C DF53      RCALL	_delay_nms
     19D 9508      RET
(0055) }
(0056) 
(0057) void LCD_en_write(void)  //液晶使能
(0058) {
(0059)   LCD_EN_PORT|=LCD_EN;
_LCD_en_write:
     19E 9AAF      SBI	0x15,7
(0060)   delay_nus(1);
     19F E001      LDI	R16,1
     1A0 E010      LDI	R17,0
     1A1 DF36      RCALL	_delay_nus
(0061)   LCD_EN_PORT&=~LCD_EN;
     1A2 98AF      CBI	0x15,7
     1A3 9508      RET
_LCD_write_command:
  command              --> R20
     1A4 934A      ST	R20,-Y
     1A5 2F40      MOV	R20,R16
(0062) }
(0063) 
(0064) void LCD_write_command(unsigned char command) //写指令
(0065) {
(0066)   //连线为高4位的写法
(0067)   delay_nus(16);
     1A6 E100      LDI	R16,0x10
     1A7 E010      LDI	R17,0
     1A8 DF2F      RCALL	_delay_nus
(0068)   LCD_RS_PORT&=~LCD_RS;        //RS=0
     1A9 98AE      CBI	0x15,6
(0069)   LCD_DATA_PORT&=0X0f;         //清高四位
     1AA B38B      IN	R24,0x1B
     1AB 708F      ANDI	R24,0xF
     1AC BB8B      OUT	0x1B,R24
(0070)   LCD_DATA_PORT|=command&0xf0; //写高四位
     1AD 2F84      MOV	R24,R20
     1AE 7F80      ANDI	R24,0xF0
     1AF B22B      IN	R2,0x1B
     1B0 2A28      OR	R2,R24
     1B1 BA2B      OUT	0x1B,R2
(0071)   LCD_en_write();
     1B2 DFEB      RCALL	_LCD_en_write
(0072)   command=command<<4;          //低四位移到高四位
     1B3 2F84      MOV	R24,R20
     1B4 708F      ANDI	R24,0xF
     1B5 9582      SWAP	R24
     1B6 2F48      MOV	R20,R24
(0073)   LCD_DATA_PORT&=0x0f;         //清高四位
     1B7 B38B      IN	R24,0x1B
     1B8 708F      ANDI	R24,0xF
     1B9 BB8B      OUT	0x1B,R24
(0074)   LCD_DATA_PORT|=command&0xf0; //写低四位
     1BA 2F84      MOV	R24,R20
     1BB 7F80      ANDI	R24,0xF0
     1BC B22B      IN	R2,0x1B
     1BD 2A28      OR	R2,R24
     1BE BA2B      OUT	0x1B,R2
(0075)   LCD_en_write();
     1BF DFDE      RCALL	_LCD_en_write
     1C0 9149      LD	R20,Y+
     1C1 9508      RET
_LCD_write_data:
  data                 --> R20
     1C2 934A      ST	R20,-Y
     1C3 2F40      MOV	R20,R16
(0076)  
(0077) /*
(0078)   //连线为低四位的写法
(0079)   delay_nus(16);
(0080)   LCD_RS_PORT&=~LCD_RS;        //RS=0
(0081)   LCD_DATA_PORT&=0xf0;         //清高四位
(0082)   LCD_DATA_PORT|=(command>>4)&0x0f; //写高四位
(0083)   LCD_en_write();
(0084)   LCD_DATA_PORT&=0xf0;         //清高四位
(0085)   LCD_DATA_PORT|=command&0x0f; //写低四位
(0086)   LCD_en_write(); 
(0087) */
(0088)   
(0089) }
(0090) 
(0091) void LCD_write_data(unsigned char data) //写数据
(0092) {
(0093)   //连线为高4位的写法
(0094)   delay_nus(16);
     1C4 E100      LDI	R16,0x10
     1C5 E010      LDI	R17,0
     1C6 DF11      RCALL	_delay_nus
(0095)   LCD_RS_PORT|=LCD_RS;       //RS=1
     1C7 9AAE      SBI	0x15,6
(0096)   LCD_DATA_PORT&=0X0f;       //清高四位
     1C8 B38B      IN	R24,0x1B
     1C9 708F      ANDI	R24,0xF
     1CA BB8B      OUT	0x1B,R24
(0097)   LCD_DATA_PORT|=data&0xf0;  //写高四位
     1CB 2F84      MOV	R24,R20
     1CC 7F80      ANDI	R24,0xF0
     1CD B22B      IN	R2,0x1B
     1CE 2A28      OR	R2,R24
     1CF BA2B      OUT	0x1B,R2
(0098)   LCD_en_write();
     1D0 DFCD      RCALL	_LCD_en_write
(0099)   data=data<<4;               //低四位移到高四位
     1D1 2F84      MOV	R24,R20
     1D2 708F      ANDI	R24,0xF
     1D3 9582      SWAP	R24
     1D4 2F48      MOV	R20,R24
(0100)   LCD_DATA_PORT&=0X0f;        //清高四位
     1D5 B38B      IN	R24,0x1B
     1D6 708F      ANDI	R24,0xF
     1D7 BB8B      OUT	0x1B,R24
(0101)   LCD_DATA_PORT|=data&0xf0;   //写低四位
     1D8 2F84      MOV	R24,R20
     1D9 7F80      ANDI	R24,0xF0
     1DA B22B      IN	R2,0x1B
     1DB 2A28      OR	R2,R24
     1DC BA2B      OUT	0x1B,R2
(0102)   LCD_en_write();
     1DD DFC0      RCALL	_LCD_en_write
     1DE 9149      LD	R20,Y+
     1DF 9508      RET
_LCD_set_xy:
  address              --> R20
  y                    --> R10
  x                    --> R22
     1E0 940E 0359 CALL	push_xgsetF00C
     1E2 2EA2      MOV	R10,R18
     1E3 2F60      MOV	R22,R16
(0103)   
(0104) /*
(0105)   //连线为低四位的写法 
(0106)   delay_nus(16);
(0107)   LCD_RS_PORT|=LCD_RS;       //RS=1
(0108)   LCD_DATA_PORT&=0Xf0;       //清高四位
(0109)   LCD_DATA_PORT|=(data>>4)&0x0f;  //写高四位
(0110)   LCD_en_write();
(0111)  
(0112)   LCD_DATA_PORT&=0Xf0;        //清高四位
(0113)   LCD_DATA_PORT|=data&0x0f;   //写低四位
(0114)   LCD_en_write();
(0115) */
(0116)   
(0117) }
(0118) 
(0119) 
(0120) void LCD_set_xy( unsigned char x, unsigned char y )  //写地址函数
(0121) {
(0122)     unsigned char address;
(0123)     if (y == 0) address = 0x80 + x;
     1E4 20AA      TST	R10
     1E5 F419      BNE	0x01E9
     1E6 2F46      MOV	R20,R22
     1E7 5840      SUBI	R20,0x80
     1E8 C002      RJMP	0x01EB
(0124)     else   address = 0xc0 + x;
     1E9 2F46      MOV	R20,R22
     1EA 5440      SUBI	R20,0x40
(0125)     LCD_write_command( address);
     1EB 2F04      MOV	R16,R20
     1EC DFB7      RCALL	_LCD_write_command
     1ED 940C 0360 JMP	pop_xgsetF00C
_LCD_write_string:
  s                    --> R20
  Y                    --> R12
  X                    --> R10
     1EF 940E 0367 CALL	push_xgset303C
     1F1 2EC2      MOV	R12,R18
     1F2 2EA0      MOV	R10,R16
     1F3 814E      LDD	R20,Y+6
     1F4 815F      LDD	R21,Y+7
(0126) }
(0127)   
(0128) void LCD_write_string(unsigned char X,unsigned char Y,unsigned char *s) //列x=0~15,行y=0,1
(0129) {
(0130)     LCD_set_xy( X, Y ); //写地址    
     1F5 2D2C      MOV	R18,R12
     1F6 2D0A      MOV	R16,R10
     1F7 DFE8      RCALL	_LCD_set_xy
     1F8 C005      RJMP	0x01FE
(0131)     while (*s)  // 写显示字符
(0132)     {
(0133)       LCD_write_data( *s );
     1F9 01FA      MOVW	R30,R20
     1FA 8100      LDD	R16,Z+0
     1FB DFC6      RCALL	_LCD_write_data
(0134)       s ++;
     1FC 5F4F      SUBI	R20,0xFF
     1FD 4F5F      SBCI	R21,0xFF
     1FE 01FA      MOVW	R30,R20
     1FF 8020      LDD	R2,Z+0
     200 2022      TST	R2
     201 F7B9      BNE	0x01F9
     202 940C 036E JMP	pop_xgset303C
_LCD_write_char:
  data                 --> Y,+2
  Y                    --> R12
  X                    --> R10
     204 92AA      ST	R10,-Y
     205 92CA      ST	R12,-Y
     206 2EC2      MOV	R12,R18
     207 2EA0      MOV	R10,R16
(0135)     }
(0136)       
(0137) }
(0138) 
(0139) void LCD_write_char(unsigned char X,unsigned char Y,unsigned char data) //列x=0~15,行y=0,1
(0140) {
(0141)   LCD_set_xy( X, Y ); //写地址
     208 2D2C      MOV	R18,R12
     209 2D0A      MOV	R16,R10
     20A DFD5      RCALL	_LCD_set_xy
(0142)   LCD_write_data( data);
     20B 810A      LDD	R16,Y+2
     20C DFB5      RCALL	_LCD_write_data
     20D 90C9      LD	R12,Y+
     20E 90A9      LD	R10,Y+
     20F 9508      RET
_conversion:
  i                    --> R20
     210 934A      ST	R20,-Y
     211 935A      ST	R21,-Y
     212 01A8      MOVW	R20,R16
FILE: D:\MCU_Project\MCU_AVR\AVR_GY-27\AVR_GY-27.c
(0001) /*****************************************
(0002) * 基于AVR单片机GY-27模块通信程序 		 *
(0003) * HMC5883L+ADXL345 通信程序              *
(0004) * 功    能：IIC通信读取数据并显示        *
(0005) * 时钟频率：内部1M 						 *
(0006) * 设    计：广运电子					 *
(0007) * 修改日期：2011年4月20日				 *
(0008) * 编译环境：ICC-AVR7.14					 *
(0009) * 实验环境：ATmega16+1602    			 *
(0010) * 使用端口：PC0,PC1,PC6,PC7,PA4~PA7 	 *
(0011) * 参    考：莫锦攀实验程序24c02读取实验  *
(0012) *****************************************/
(0013) #include <iom16v.h>
(0014) #include "I2C.h"
(0015) #include "1602.h"
(0016) #include "delay.h"
(0017) #include  "math.h"  
(0018) #include  "stdio.h"  
(0019) void conversion(unsigned int i);
(0020) unsigned char display[5]={0,0,0,0,0};//显示数据
(0021) 
(0022) /*********************************************
(0023) 数据转换,十六进制数据转换成10进制
(0024) 输入十六进制范围：0x0000-0x270f（0-9999）
(0025) 结果分成个十百千位，以ascii存入显示区
(0026) **********************************************/
(0027) void conversion(unsigned int i)  
(0028) {  
(0029)  	display[0]=i/10000+0x30 ;
     213 E120      LDI	R18,0x10
     214 E237      LDI	R19,0x27
     215 018A      MOVW	R16,R20
     216 940E 0305 CALL	div16u
     218 01C8      MOVW	R24,R16
     219 96C0      ADIW	R24,0x30
     21A 9380 0200 STS	display,R24
(0030)     i=i%10000;    //取余运算
     21C E120      LDI	R18,0x10
     21D E237      LDI	R19,0x27
     21E 018A      MOVW	R16,R20
     21F 940E 0303 CALL	mod16u
     221 01A8      MOVW	R20,R16
(0031) 	display[1]=i/1000+0x30 ;
     222 EE28      LDI	R18,0xE8
     223 E033      LDI	R19,3
     224 940E 0305 CALL	div16u
     226 01C8      MOVW	R24,R16
     227 96C0      ADIW	R24,0x30
     228 9380 0201 STS	display+1,R24
(0032)     i=i%1000;    //取余运算
     22A EE28      LDI	R18,0xE8
     22B E033      LDI	R19,3
     22C 018A      MOVW	R16,R20
     22D 940E 0303 CALL	mod16u
     22F 01A8      MOVW	R20,R16
(0033)     display[2]=i/100+0x30 ;
     230 E624      LDI	R18,0x64
     231 E030      LDI	R19,0
     232 940E 0305 CALL	div16u
     234 01C8      MOVW	R24,R16
     235 96C0      ADIW	R24,0x30
     236 9380 0202 STS	display+2,R24
(0034)     i=i%100;    //取余运算
     238 E624      LDI	R18,0x64
     239 E030      LDI	R19,0
     23A 018A      MOVW	R16,R20
     23B 940E 0303 CALL	mod16u
     23D 01A8      MOVW	R20,R16
(0035)     display[3]=i/10+0x30 ;
     23E E02A      LDI	R18,0xA
     23F E030      LDI	R19,0
     240 940E 0305 CALL	div16u
     242 01C8      MOVW	R24,R16
     243 96C0      ADIW	R24,0x30
     244 9380 0203 STS	display+3,R24
(0036)    i=i%10;     //取余运算
     246 E02A      LDI	R18,0xA
     247 E030      LDI	R19,0
     248 018A      MOVW	R16,R20
     249 940E 0303 CALL	mod16u
     24B 01A8      MOVW	R20,R16
(0037)     display[4]=i+0x30;  
     24C 01CA      MOVW	R24,R20
     24D 96C0      ADIW	R24,0x30
     24E 9380 0204 STS	0x0204,R24
     250 9159      LD	R21,Y+
     251 9149      LD	R20,Y+
     252 9508      RET
_display_angle:
  temp                 --> Y,+8
  angle                --> Y,+4
  y                    --> R10
  x                    --> R12
     253 940E 033E CALL	push_xgset00FC
     255 972C      SBIW	R28,0xC
(0038) }
(0039) //*******************************
(0040) //显示角度
(0041) void display_angle(void)
(0042) {   float temp;
(0043)       int x,y;
(0044) 	 double angle;
(0045) 
(0046)      x=I2C_Read(0x03);
     256 E003      LDI	R16,3
     257 E010      LDI	R17,0
     258 DEE2      RCALL	_I2C_Read
     259 2EC0      MOV	R12,R16
     25A 24DD      CLR	R13
(0047)      x=(x<<8)+I2C_Read(0x04);
     25B E004      LDI	R16,4
     25C E010      LDI	R17,0
     25D DEDD      RCALL	_I2C_Read
     25E 2CDC      MOV	R13,R12
     25F 2EC0      MOV	R12,R16
(0048) 	 
(0049) 	 y=I2C_Read(0x07);
     260 E007      LDI	R16,7
     261 E010      LDI	R17,0
     262 DED8      RCALL	_I2C_Read
     263 2EA0      MOV	R10,R16
     264 24BB      CLR	R11
(0050)      y=(y<<8)+I2C_Read(0x08);
     265 E008      LDI	R16,0x8
     266 E010      LDI	R17,0
     267 DED3      RCALL	_I2C_Read
     268 2EE0      MOV	R14,R16
     269 2CBA      MOV	R11,R10
     26A 2CAE      MOV	R10,R14
(0051) 	
(0052) 	 
(0053)      angle= atan2((double)y,(double)x) * (180 / 3.14159265) + 180; // angle in degrees
     26B 0186      MOVW	R16,R12
     26C 940E 045B CALL	int2fp
     26E 8308      STD	Y+0,R16
     26F 8319      STD	Y+1,R17
     270 832A      STD	Y+2,R18
     271 833B      STD	Y+3,R19
     272 0185      MOVW	R16,R10
     273 940E 045B CALL	int2fp
     275 940E 07C3 CALL	_atan2f
     277 0118      MOVW	R2,R16
     278 0129      MOVW	R4,R18
     279 EE0C      LDI	R16,0xEC
     27A E010      LDI	R17,0
     27B 940E 031F CALL	elpm32
     27D 925A      ST	R5,-Y
     27E 924A      ST	R4,-Y
     27F 923A      ST	R3,-Y
     280 922A      ST	R2,-Y
     281 940E 060B CALL	fpmule2
     283 0118      MOVW	R2,R16
     284 0129      MOVW	R4,R18
     285 EE08      LDI	R16,0xE8
     286 E010      LDI	R17,0
     287 940E 031F CALL	elpm32
     289 933A      ST	R19,-Y
     28A 932A      ST	R18,-Y
     28B 931A      ST	R17,-Y
     28C 930A      ST	R16,-Y
     28D 0181      MOVW	R16,R2
     28E 0192      MOVW	R18,R4
     28F 940E 0409 CALL	fpadd2
     291 830C      STD	Y+4,R16
     292 831D      STD	Y+5,R17
     293 832E      STD	Y+6,R18
     294 833F      STD	Y+7,R19
(0054)      angle*=10;
     295 EE04      LDI	R16,0xE4
     296 E010      LDI	R17,0
     297 940E 031F CALL	elpm32
     299 01CE      MOVW	R24,R28
     29A 9604      ADIW	R24,4
     29B 939A      ST	R25,-Y
     29C 938A      ST	R24,-Y
     29D 940E 0601 CALL	fpmule1
     29F 830C      STD	Y+4,R16
     2A0 831D      STD	Y+5,R17
     2A1 832E      STD	Y+6,R18
     2A2 833F      STD	Y+7,R19
(0055) 
(0056)     conversion(angle);          //转换出显示需要的数据
     2A3 810C      LDD	R16,Y+4
     2A4 811D      LDD	R17,Y+5
     2A5 812E      LDD	R18,Y+6
     2A6 813F      LDD	R19,Y+7
     2A7 940E 042D CALL	fpint
     2A9 DF66      RCALL	_conversion
(0057) 	LCD_write_char(0,0,'A');   //第0行，第0列 显示A
     2AA E481      LDI	R24,0x41
     2AB 8388      STD	Y+0,R24
     2AC 2722      CLR	R18
     2AD 2700      CLR	R16
     2AE DF55      RCALL	_LCD_write_char
(0058) 	LCD_write_char(1,0,'n');   //
     2AF E68E      LDI	R24,0x6E
     2B0 8388      STD	Y+0,R24
     2B1 2722      CLR	R18
     2B2 E001      LDI	R16,1
     2B3 DF50      RCALL	_LCD_write_char
(0059) 	LCD_write_char(2,0,'g');   //
     2B4 E687      LDI	R24,0x67
     2B5 8388      STD	Y+0,R24
     2B6 2722      CLR	R18
     2B7 E002      LDI	R16,2
     2B8 DF4B      RCALL	_LCD_write_char
(0060) 	LCD_write_char(3,0,'l');   //
     2B9 E68C      LDI	R24,0x6C
     2BA 8388      STD	Y+0,R24
     2BB 2722      CLR	R18
     2BC E003      LDI	R16,3
     2BD DF46      RCALL	_LCD_write_char
(0061) 	LCD_write_char(4,0,'e');   //
     2BE E685      LDI	R24,0x65
     2BF 8388      STD	Y+0,R24
     2C0 2722      CLR	R18
     2C1 E004      LDI	R16,4
     2C2 DF41      RCALL	_LCD_write_char
(0062)     LCD_write_char(5,0,':'); 
     2C3 E38A      LDI	R24,0x3A
     2C4 8388      STD	Y+0,R24
     2C5 2722      CLR	R18
     2C6 E005      LDI	R16,5
     2C7 DF3C      RCALL	_LCD_write_char
(0063)     LCD_write_char(6,0,display[1]);  
     2C8 9020 0201 LDS	R2,display+1
     2CA 8228      STD	Y+0,R2
     2CB 2722      CLR	R18
     2CC E006      LDI	R16,6
     2CD DF36      RCALL	_LCD_write_char
(0064)     LCD_write_char(7,0,display[2]); 
     2CE 9020 0202 LDS	R2,display+2
     2D0 8228      STD	Y+0,R2
     2D1 2722      CLR	R18
     2D2 E007      LDI	R16,7
     2D3 DF30      RCALL	_LCD_write_char
(0065)     LCD_write_char(8,0,display[3]); 
     2D4 9020 0203 LDS	R2,display+3
     2D6 8228      STD	Y+0,R2
     2D7 2722      CLR	R18
     2D8 E008      LDI	R16,0x8
     2D9 DF2A      RCALL	_LCD_write_char
(0066)     LCD_write_char(9,0,'.'); 
     2DA E28E      LDI	R24,0x2E
     2DB 8388      STD	Y+0,R24
     2DC 2722      CLR	R18
     2DD E009      LDI	R16,0x9
     2DE DF25      RCALL	_LCD_write_char
(0067) 	LCD_write_char(10,0,display[4]); 
     2DF 9020 0204 LDS	R2,0x0204
     2E1 8228      STD	Y+0,R2
     2E2 2722      CLR	R18
     2E3 E00A      LDI	R16,0xA
     2E4 DF1F      RCALL	_LCD_write_char
(0068) 	LCD_write_char(11,0,0xdf); 
     2E5 ED8F      LDI	R24,0xDF
     2E6 8388      STD	Y+0,R24
     2E7 2722      CLR	R18
     2E8 E00B      LDI	R16,0xB
     2E9 DF1A      RCALL	_LCD_write_char
     2EA 962C      ADIW	R28,0xC
     2EB 940C 0333 JMP	pop_xgset00FC
(0069) 	
(0070) }
(0071) 
(0072) /*******************************
(0073) 主程序
(0074) *******************************/
(0075) void main(void)
(0076) {	
(0077) 	unsigned char i;		
(0078) 	 delay_nms(50);          //lcd上电延时
_main:
  i                    --> Y,+1
     2ED E302      LDI	R16,0x32
     2EE E010      LDI	R17,0
     2EF DE00      RCALL	_delay_nms
(0079) 	 LCD_init();             //lcd初始化
     2F0 DE98      RCALL	_LCD_init
     2F1 C00A      RJMP	0x02FC
(0080)      
(0081) 	while(1){               //循环  
(0082) 	I2C_Write(0x02,0x00);   //模式寄存器写0
     2F2 2722      CLR	R18
     2F3 E002      LDI	R16,2
     2F4 DE09      RCALL	_I2C_Write
(0083) 	delay_nms(50); 
     2F5 E302      LDI	R16,0x32
     2F6 E010      LDI	R17,0
     2F7 DDF8      RCALL	_delay_nms
(0084) 	display_angle();       //显示角度
     2F8 DF5A      RCALL	_display_angle
(0085) 	delay_nms(50); 	
FILE: <library>
     2F9 E302      LDI	R16,0x32
     2FA E010      LDI	R17,0
     2FB DDF4      RCALL	_delay_nms
     2FC CFF5      RJMP	0x02F2
     2FD 9508      RET
push_arg4:
     2FE 933A      ST	R19,-Y
     2FF 932A      ST	R18,-Y
push_arg2:
     300 931A      ST	R17,-Y
     301 930A      ST	R16,-Y
     302 9508      RET
mod16u:
     303 9468      BSET	6
     304 C001      RJMP	xdiv16u
div16u:
     305 94E8      BCLR	6
xdiv16u:
     306 92EA      ST	R14,-Y
     307 92FA      ST	R15,-Y
     308 938A      ST	R24,-Y
     309 24EE      CLR	R14
     30A 24FF      CLR	R15
     30B E180      LDI	R24,0x10
     30C 0F00      LSL	R16
     30D 1F11      ROL	R17
     30E 1CEE      ROL	R14
     30F 1CFF      ROL	R15
     310 16E2      CP	R14,R18
     311 06F3      CPC	R15,R19
     312 F018      BCS	0x0316
     313 1AE2      SUB	R14,R18
     314 0AF3      SBC	R15,R19
     315 9503      INC	R16
     316 958A      DEC	R24
     317 F7A1      BNE	0x030C
     318 F416      BRTC	0x031B
     319 2D0E      MOV	R16,R14
     31A 2D1F      MOV	R17,R15
     31B 9189      LD	R24,Y+
     31C 90F9      LD	R15,Y+
     31D 90E9      LD	R14,Y+
     31E 9508      RET
elpm32:
     31F 93EA      ST	R30,-Y
     320 93FA      ST	R31,-Y
     321 920A      ST	R0,-Y
     322 2FE0      MOV	R30,R16
     323 2FF1      MOV	R31,R17
     324 95D8      ELPM
     325 2D00      MOV	R16,R0
     326 9631      ADIW	R30,1
     327 95D8      ELPM
     328 2D10      MOV	R17,R0
     329 9631      ADIW	R30,1
     32A 95D8      ELPM
     32B 2D20      MOV	R18,R0
     32C 9631      ADIW	R30,1
     32D 95D8      ELPM
     32E 2D30      MOV	R19,R0
     32F 9009      LD	R0,Y+
     330 91F9      LD	R31,Y+
     331 91E9      LD	R30,Y+
     332 9508      RET
pop_xgset00FC:
     333 90A9      LD	R10,Y+
     334 90B9      LD	R11,Y+
     335 90C9      LD	R12,Y+
     336 90D9      LD	R13,Y+
     337 90E9      LD	R14,Y+
     338 90F9      LD	R15,Y+
     339 9508      RET
push_xgsetF0FC:
     33A 937A      ST	R23,-Y
     33B 936A      ST	R22,-Y
push_xgset30FC:
     33C 935A      ST	R21,-Y
     33D 934A      ST	R20,-Y
push_xgset00FC:
     33E 92FA      ST	R15,-Y
     33F 92EA      ST	R14,-Y
push_xgset003C:
     340 92DA      ST	R13,-Y
     341 92CA      ST	R12,-Y
     342 92BA      ST	R11,-Y
     343 92AA      ST	R10,-Y
     344 9508      RET
push_xgset300C:
     345 935A      ST	R21,-Y
     346 934A      ST	R20,-Y
     347 92BA      ST	R11,-Y
     348 92AA      ST	R10,-Y
     349 9508      RET
pop_xgset300C:
     34A 90A9      LD	R10,Y+
     34B 90B9      LD	R11,Y+
     34C 9149      LD	R20,Y+
     34D 9159      LD	R21,Y+
     34E 9508      RET
push_xgsetF000:
     34F 937A      ST	R23,-Y
     350 936A      ST	R22,-Y
     351 935A      ST	R21,-Y
     352 934A      ST	R20,-Y
     353 9508      RET
pop_xgsetF000:
     354 9149      LD	R20,Y+
     355 9159      LD	R21,Y+
     356 9169      LD	R22,Y+
     357 9179      LD	R23,Y+
     358 9508      RET
push_xgsetF00C:
     359 937A      ST	R23,-Y
     35A 936A      ST	R22,-Y
     35B 935A      ST	R21,-Y
     35C 934A      ST	R20,-Y
     35D 92BA      ST	R11,-Y
     35E 92AA      ST	R10,-Y
     35F 9508      RET
pop_xgsetF00C:
     360 90A9      LD	R10,Y+
     361 90B9      LD	R11,Y+
     362 9149      LD	R20,Y+
     363 9159      LD	R21,Y+
     364 9169      LD	R22,Y+
     365 9179      LD	R23,Y+
     366 9508      RET
push_xgset303C:
     367 935A      ST	R21,-Y
     368 934A      ST	R20,-Y
     369 92DA      ST	R13,-Y
     36A 92CA      ST	R12,-Y
     36B 92BA      ST	R11,-Y
     36C 92AA      ST	R10,-Y
     36D 9508      RET
pop_xgset303C:
     36E 90A9      LD	R10,Y+
     36F 90B9      LD	R11,Y+
     370 90C9      LD	R12,Y+
     371 90D9      LD	R13,Y+
     372 9149      LD	R20,Y+
     373 9159      LD	R21,Y+
     374 9508      RET
neg32:
     375 9500      COM	R16
     376 9510      COM	R17
     377 9520      COM	R18
     378 9530      COM	R19
     379 5F0F      SUBI	R16,0xFF
     37A 4F1F      SBCI	R17,0xFF
     37B 4F2F      SBCI	R18,0xFF
     37C 4F3F      SBCI	R19,0xFF
     37D 9508      RET
lsl32:
     37E 920F      PUSH	R0
     37F 9009      LD	R0,Y+
     380 2000      TST	R0
     381 F031      BEQ	0x0388
     382 0F00      LSL	R16
     383 1F11      ROL	R17
     384 1F22      ROL	R18
     385 1F33      ROL	R19
     386 940A      DEC	R0
     387 CFF8      RJMP	0x0380
     388 900F      POP	R0
     389 9508      RET
fpsub:
     38A 9468      BSET	6
     38B C001      RJMP	fpadd_alt
fpadd:
     38C 94E8      BCLR	6
fpadd_alt:
     38D 940E 0593 CALL	saveR8toR25
     38F 940E 0529 CALL	unpacks
     391 F409      BNE	0x0393
     392 C047      RJMP	0x03DA
     393 2EE6      MOV	R14,R22
     394 2ED5      MOV	R13,R21
     395 2EC4      MOV	R12,R20
     396 2EB3      MOV	R11,R19
     397 2EA2      MOV	R10,R18
     398 2E91      MOV	R9,R17
     399 2E80      MOV	R8,R16
     39A 8100      LDD	R16,Z+0
     39B 8111      LDD	R17,Z+1
     39C 8122      LDD	R18,Z+2
     39D 8133      LDD	R19,Z+3
     39E 940E 0529 CALL	unpacks
     3A0 F409      BNE	0x03A2
     3A1 C043      RJMP	0x03E5
     3A2 2F84      MOV	R24,R20
     3A3 2F95      MOV	R25,R21
     3A4 198C      SUB	R24,R12
     3A5 099D      SBC	R25,R13
     3A6 F0B9      BEQ	0x03BE
     3A7 F472      BPL	0x03B6
     3A8 9590      COM	R25
     3A9 9580      COM	R24
     3AA 9601      ADIW	R24,1
     3AB 2D4C      MOV	R20,R12
     3AC 2D5D      MOV	R21,R13
     3AD 3188      CPI	R24,0x18
     3AE F5B0      BCC	0x03E5
     3AF 9535      ASR	R19
     3B0 9527      ROR	R18
     3B1 9517      ROR	R17
     3B2 9507      ROR	R16
     3B3 9701      SBIW	R24,1
     3B4 F7D1      BNE	0x03AF
     3B5 C008      RJMP	0x03BE
     3B6 3188      CPI	R24,0x18
     3B7 F510      BCC	0x03DA
     3B8 94B5      ASR	R11
     3B9 94A7      ROR	R10
     3BA 9497      ROR	R9
     3BB 9487      ROR	R8
     3BC 9701      SBIW	R24,1
     3BD F7D1      BNE	0x03B8
     3BE 2766      CLR	R22
     3BF F02E      BRTS	0x03C5
     3C0 0D08      ADD	R16,R8
     3C1 1D19      ADC	R17,R9
     3C2 1D2A      ADC	R18,R10
     3C3 1D3B      ADC	R19,R11
     3C4 C009      RJMP	0x03CE
     3C5 1A80      SUB	R8,R16
     3C6 0A91      SBC	R9,R17
     3C7 0AA2      SBC	R10,R18
     3C8 0AB3      SBC	R11,R19
     3C9 2D08      MOV	R16,R8
     3CA 2D19      MOV	R17,R9
     3CB 2D2A      MOV	R18,R10
     3CC 2D3B      MOV	R19,R11
     3CD 2333      TST	R19
     3CE F41A      BPL	0x03D2
     3CF 940E 0375 CALL	neg32
     3D1 E860      LDI	R22,0x80
     3D2 940E 054E CALL	normalize_and_pack
     3D4 C002      RJMP	0x03D7
     3D5 940E 057C CALL	pack
     3D7 940E 05A2 CALL	restoreR8toR25
     3D9 9508      RET
     3DA 8100      LDD	R16,Z+0
     3DB 8111      LDD	R17,Z+1
     3DC 8122      LDD	R18,Z+2
     3DD 8133      LDD	R19,Z+3
     3DE F7C6      BRTC	0x03D7
     3DF 940E 0531 CALL	tstR16_R19
     3E1 F3A9      BEQ	0x03D7
     3E2 E840      LDI	R20,0x80
     3E3 2734      EOR	R19,R20
     3E4 CFF2      RJMP	0x03D7
     3E5 2D08      MOV	R16,R8
     3E6 2D19      MOV	R17,R9
     3E7 2D2A      MOV	R18,R10
     3E8 2D3B      MOV	R19,R11
     3E9 2D4C      MOV	R20,R12
     3EA 2D5D      MOV	R21,R13
     3EB 2D6E      MOV	R22,R14
     3EC 2333      TST	R19
     3ED F73A      BPL	0x03D5
     3EE 940E 0375 CALL	neg32
     3F0 E860      LDI	R22,0x80
     3F1 CFE3      RJMP	0x03D5
fpadd1:
     3F2 93FA      ST	R31,-Y
     3F3 93EA      ST	R30,-Y
     3F4 81EA      LDD	R30,Y+2
     3F5 81FB      LDD	R31,Y+3
     3F6 940E 038C CALL	fpadd
     3F8 91E9      LD	R30,Y+
     3F9 91F9      LD	R31,Y+
     3FA 9622      ADIW	R28,2
     3FB 9508      RET
fpadd1x:
     3FC 93FA      ST	R31,-Y
     3FD 93EA      ST	R30,-Y
     3FE 81EA      LDD	R30,Y+2
     3FF 81FB      LDD	R31,Y+3
     400 940E 038C CALL	fpadd
     402 91E9      LD	R30,Y+
     403 91F9      LD	R31,Y+
     404 8339      STD	Y+1,R19
     405 8328      STD	Y+0,R18
     406 931A      ST	R17,-Y
     407 930A      ST	R16,-Y
     408 9508      RET
fpadd2:
     409 93FA      ST	R31,-Y
     40A 93EA      ST	R30,-Y
     40B 2FEC      MOV	R30,R28
     40C 2FFD      MOV	R31,R29
     40D 9632      ADIW	R30,2
     40E 940E 038C CALL	fpadd
     410 91E9      LD	R30,Y+
     411 91F9      LD	R31,Y+
     412 9624      ADIW	R28,4
     413 9508      RET
fpadd2x:
     414 93FA      ST	R31,-Y
     415 93EA      ST	R30,-Y
     416 2FEC      MOV	R30,R28
     417 2FFD      MOV	R31,R29
     418 9632      ADIW	R30,2
     419 940E 038C CALL	fpadd
     41B 91E9      LD	R30,Y+
     41C 91F9      LD	R31,Y+
     41D 833B      STD	Y+3,R19
     41E 832A      STD	Y+2,R18
     41F 8319      STD	Y+1,R17
     420 8308      STD	Y+0,R16
     421 9508      RET
fpsub2:
     422 93FA      ST	R31,-Y
     423 93EA      ST	R30,-Y
     424 2FEC      MOV	R30,R28
     425 2FFD      MOV	R31,R29
     426 9632      ADIW	R30,2
     427 940E 038A CALL	fpsub
     429 91E9      LD	R30,Y+
     42A 91F9      LD	R31,Y+
     42B 9624      ADIW	R28,4
     42C 9508      RET
fpint:
     42D 934A      ST	R20,-Y
     42E 935A      ST	R21,-Y
     42F 936A      ST	R22,-Y
     430 940E 0539 CALL	unpacku
     432 F0F1      BEQ	0x0451
     433 2355      TST	R21
     434 F0C2      BMI	0x044D
     435 314F      CPI	R20,0x1F
     436 F4A8      BCC	0x044C
     437 3147      CPI	R20,0x17
     438 F0C1      BEQ	0x0451
     439 F450      BCC	0x0444
     43A 9541      NEG	R20
     43B 5E49      SUBI	R20,0xE9
     43C C005      RJMP	0x0442
     43D 9535      ASR	R19
     43E 9527      ROR	R18
     43F 9517      ROR	R17
     440 9507      ROR	R16
     441 954A      DEC	R20
     442 F7D1      BNE	0x043D
     443 C00D      RJMP	0x0451
     444 5147      SUBI	R20,0x17
     445 0F00      LSL	R16
     446 1F11      ROL	R17
     447 1F22      ROL	R18
     448 1F33      ROL	R19
     449 954A      DEC	R20
     44A F7D1      BNE	0x0445
     44B C005      RJMP	0x0451
     44C E73F      LDI	R19,0x7F
     44D 2F23      MOV	R18,R19
     44E 2F13      MOV	R17,R19
     44F 2F03      MOV	R16,R19
     450 C004      RJMP	0x0455
     451 2366      TST	R22
     452 F011      BEQ	0x0455
     453 940E 0375 CALL	neg32
     455 9169      LD	R22,Y+
     456 9159      LD	R21,Y+
     457 9149      LD	R20,Y+
     458 9508      RET
uint2fp:
     459 9468      BSET	6
     45A C001      RJMP	0x045C
int2fp:
     45B 94E8      BCLR	6
     45C 2722      CLR	R18
     45D 2733      CLR	R19
     45E F046      BRTS	0x0467
     45F FD17      SBRC	R17,7
     460 9520      COM	R18
     461 FD17      SBRC	R17,7
     462 9530      COM	R19
     463 C003      RJMP	0x0467
ulong2fp:
     464 9468      BSET	6
     465 C001      RJMP	0x0467
long2fp:
     466 94E8      BCLR	6
     467 934A      ST	R20,-Y
     468 935A      ST	R21,-Y
     469 936A      ST	R22,-Y
     46A E147      LDI	R20,0x17
     46B 2766      CLR	R22
     46C 2755      CLR	R21
     46D F02E      BRTS	0x0473
     46E 2333      TST	R19
     46F F41A      BPL	0x0473
     470 940E 0375 CALL	neg32
     472 E860      LDI	R22,0x80
     473 940E 054E CALL	normalize_and_pack
     475 9169      LD	R22,Y+
     476 9159      LD	R21,Y+
     477 9149      LD	R20,Y+
     478 9508      RET
fpdiv1:
     479 93FA      ST	R31,-Y
     47A 93EA      ST	R30,-Y
     47B 81EA      LDD	R30,Y+2
     47C 81FB      LDD	R31,Y+3
     47D D027      RCALL	0x04A5
     47E 91E9      LD	R30,Y+
     47F 91F9      LD	R31,Y+
     480 9622      ADIW	R28,2
     481 9508      RET
fpdiv2:
     482 93FA      ST	R31,-Y
     483 93EA      ST	R30,-Y
     484 2FEC      MOV	R30,R28
     485 2FFD      MOV	R31,R29
     486 9632      ADIW	R30,2
     487 D01D      RCALL	0x04A5
     488 91E9      LD	R30,Y+
     489 91F9      LD	R31,Y+
     48A 9624      ADIW	R28,4
     48B 9508      RET
fpdiv1x:
     48C 93FA      ST	R31,-Y
     48D 93EA      ST	R30,-Y
     48E 81EA      LDD	R30,Y+2
     48F 81FB      LDD	R31,Y+3
     490 D014      RCALL	0x04A5
     491 91E9      LD	R30,Y+
     492 91F9      LD	R31,Y+
     493 8339      STD	Y+1,R19
     494 8328      STD	Y+0,R18
     495 931A      ST	R17,-Y
     496 930A      ST	R16,-Y
     497 9508      RET
fpdiv2x:
     498 93FA      ST	R31,-Y
     499 93EA      ST	R30,-Y
     49A 2FEC      MOV	R30,R28
     49B 2FFD      MOV	R31,R29
     49C 9632      ADIW	R30,2
     49D D007      RCALL	0x04A5
     49E 91E9      LD	R30,Y+
     49F 91F9      LD	R31,Y+
     4A0 833B      STD	Y+3,R19
     4A1 832A      STD	Y+2,R18
     4A2 8319      STD	Y+1,R17
     4A3 8308      STD	Y+0,R16
     4A4 9508      RET
     4A5 924A      ST	R4,-Y
     4A6 925A      ST	R5,-Y
     4A7 926A      ST	R6,-Y
     4A8 927A      ST	R7,-Y
     4A9 928A      ST	R8,-Y
     4AA 929A      ST	R9,-Y
     4AB 92AA      ST	R10,-Y
     4AC 92BA      ST	R11,-Y
     4AD 92CA      ST	R12,-Y
     4AE 92DA      ST	R13,-Y
     4AF 92EA      ST	R14,-Y
     4B0 92FA      ST	R15,-Y
     4B1 934A      ST	R20,-Y
     4B2 935A      ST	R21,-Y
     4B3 936A      ST	R22,-Y
     4B4 937A      ST	R23,-Y
     4B5 938A      ST	R24,-Y
     4B6 939A      ST	R25,-Y
     4B7 933A      ST	R19,-Y
     4B8 932A      ST	R18,-Y
     4B9 931A      ST	R17,-Y
     4BA 930A      ST	R16,-Y
     4BB 8100      LDD	R16,Z+0
     4BC 8111      LDD	R17,Z+1
     4BD 8122      LDD	R18,Z+2
     4BE 8133      LDD	R19,Z+3
     4BF 940E 0539 CALL	unpacku
     4C1 F409      BNE	0x04C3
     4C2 C061      RJMP	0x0524
     4C3 2EE6      MOV	R14,R22
     4C4 2ED5      MOV	R13,R21
     4C5 2EC4      MOV	R12,R20
     4C6 2EB3      MOV	R11,R19
     4C7 2EA2      MOV	R10,R18
     4C8 2E91      MOV	R9,R17
     4C9 2E80      MOV	R8,R16
     4CA 9109      LD	R16,Y+
     4CB 9119      LD	R17,Y+
     4CC 9129      LD	R18,Y+
     4CD 9139      LD	R19,Y+
     4CE 940E 0539 CALL	unpacku
     4D0 F191      BEQ	0x0503
     4D1 256E      EOR	R22,R14
     4D2 194C      SUB	R20,R12
     4D3 095D      SBC	R21,R13
     4D4 3840      CPI	R20,0x80
     4D5 0753      CPC	R21,R19
     4D6 F00C      BLT	0x04D8
     4D7 C03E      RJMP	0x0516
     4D8 3841      CPI	R20,0x81
     4D9 EF7F      LDI	R23,0xFF
     4DA 0757      CPC	R21,R23
     4DB F40C      BGE	0x04DD
     4DC C042      RJMP	0x051F
     4DD E280      LDI	R24,0x20
     4DE 2477      CLR	R7
     4DF 2E63      MOV	R6,R19
     4E0 2E52      MOV	R5,R18
     4E1 2E41      MOV	R4,R17
     4E2 2F30      MOV	R19,R16
     4E3 2722      CLR	R18
     4E4 2711      CLR	R17
     4E5 2700      CLR	R16
     4E6 9466      LSR	R6
     4E7 9457      ROR	R5
     4E8 9447      ROR	R4
     4E9 9537      ROR	R19
     4EA 9527      ROR	R18
     4EB 0F00      LSL	R16
     4EC 1F11      ROL	R17
     4ED 1F22      ROL	R18
     4EE 1F33      ROL	R19
     4EF 1C44      ROL	R4
     4F0 1C55      ROL	R5
     4F1 1C66      ROL	R6
     4F2 1C77      ROL	R7
     4F3 F028      BCS	0x04F9
     4F4 1848      SUB	R4,R8
     4F5 0859      SBC	R5,R9
     4F6 086A      SBC	R6,R10
     4F7 087B      SBC	R7,R11
     4F8 C004      RJMP	0x04FD
     4F9 0C48      ADD	R4,R8
     4FA 1C59      ADC	R5,R9
     4FB 1C6A      ADC	R6,R10
     4FC 1C7B      ADC	R7,R11
     4FD F00A      BMI	0x04FF
     4FE 6001      ORI	R16,1
     4FF 958A      DEC	R24
     500 F751      BNE	0x04EB
     501 940E 054E CALL	normalize_and_pack
     503 9199      LD	R25,Y+
     504 9189      LD	R24,Y+
     505 9179      LD	R23,Y+
     506 9169      LD	R22,Y+
     507 9159      LD	R21,Y+
     508 9149      LD	R20,Y+
     509 90F9      LD	R15,Y+
     50A 90E9      LD	R14,Y+
     50B 90D9      LD	R13,Y+
     50C 90C9      LD	R12,Y+
     50D 90B9      LD	R11,Y+
     50E 90A9      LD	R10,Y+
     50F 9099      LD	R9,Y+
     510 9089      LD	R8,Y+
     511 9079      LD	R7,Y+
     512 9069      LD	R6,Y+
     513 9059      LD	R5,Y+
     514 9049      LD	R4,Y+
     515 9508      RET
     516 EF0F      LDI	R16,0xFF
     517 2F10      MOV	R17,R16
     518 E72F      LDI	R18,0x7F
     519 E73F      LDI	R19,0x7F
     51A 2366      TST	R22
     51B F339      BEQ	0x0503
     51C 940E 0375 CALL	neg32
     51E CFE4      RJMP	0x0503
     51F 2700      CLR	R16
     520 2F10      MOV	R17,R16
     521 2F20      MOV	R18,R16
     522 2F30      MOV	R19,R16
     523 CFDF      RJMP	0x0503
     524 9109      LD	R16,Y+
     525 9119      LD	R17,Y+
     526 9129      LD	R18,Y+
     527 9139      LD	R19,Y+
     528 CFED      RJMP	0x0516
unpacks:
     529 D00F      RCALL	unpacku
     52A F029      BEQ	0x0530
     52B 2366      TST	R22
     52C F011      BEQ	0x052F
     52D 940E 0375 CALL	neg32
     52F 9498      BCLR	1
     530 9508      RET
tstR16_R19:
     531 2300      TST	R16
     532 F429      BNE	0x0538
     533 2311      TST	R17
     534 F419      BNE	0x0538
     535 2322      TST	R18
     536 F409      BNE	0x0538
     537 2333      TST	R19
     538 9508      RET
unpacku:
     539 DFF7      RCALL	tstR16_R19
     53A F079      BEQ	0x054A
     53B 2F63      MOV	R22,R19
     53C 7860      ANDI	R22,0x80
     53D 0F22      LSL	R18
     53E 1F33      ROL	R19
     53F 2F43      MOV	R20,R19
     540 E75F      LDI	R21,0x7F
     541 1B45      SUB	R20,R21
     542 2755      CLR	R21
     543 4050      SBCI	R21,0
     544 9526      LSR	R18
     545 E830      LDI	R19,0x80
     546 2B23      OR	R18,R19
     547 2733      CLR	R19
     548 9498      BCLR	1
     549 9508      RET
     54A 2744      CLR	R20
     54B 2755      CLR	R21
     54C 2766      CLR	R22
     54D 9508      RET
normalize_and_pack:
     54E DFE2      RCALL	tstR16_R19
     54F F121      BEQ	0x0574
     550 939A      ST	R25,-Y
     551 938A      ST	R24,-Y
     552 E78E      LDI	R24,0x7E
     553 E090      LDI	R25,0
     554 2333      TST	R19
     555 F051      BEQ	0x0560
     556 9536      LSR	R19
     557 9527      ROR	R18
     558 9517      ROR	R17
     559 9507      ROR	R16
     55A 1748      CP	R20,R24
     55B 0759      CPC	R21,R25
     55C F4C4      BGE	0x0575
     55D 5F4F      SUBI	R20,0xFF
     55E 4F5F      SBCI	R21,0xFF
     55F CFF4      RJMP	0x0554
     560 9580      COM	R24
     561 9590      COM	R25
     562 9601      ADIW	R24,1
     563 2322      TST	R18
     564 F0AA      BMI	0x057A
     565 0F00      LSL	R16
     566 1F11      ROL	R17
     567 1F22      ROL	R18
     568 1748      CP	R20,R24
     569 0759      CPC	R21,R25
     56A F01C      BLT	0x056E
     56B 5041      SUBI	R20,1
     56C 4050      SBCI	R21,0
     56D CFF5      RJMP	0x0563
     56E 2700      CLR	R16
     56F 2711      CLR	R17
     570 2722      CLR	R18
     571 2733      CLR	R19
     572 9189      LD	R24,Y+
     573 9199      LD	R25,Y+
     574 9508      RET
     575 2733      CLR	R19
     576 EF0F      LDI	R16,0xFF
     577 2F10      MOV	R17,R16
     578 E72F      LDI	R18,0x7F
     579 2F32      MOV	R19,R18
     57A 9189      LD	R24,Y+
     57B 9199      LD	R25,Y+
pack:
     57C DFB4      RCALL	tstR16_R19
     57D F039      BEQ	0x0585
     57E 5841      SUBI	R20,0x81
     57F 4F5F      SBCI	R21,0xFF
     580 2F34      MOV	R19,R20
     581 0F22      LSL	R18
     582 9536      LSR	R19
     583 9527      ROR	R18
     584 2B36      OR	R19,R22
     585 9508      RET
fpneg:
     586 DFAA      RCALL	tstR16_R19
     587 F021      BEQ	0x058C
     588 930F      PUSH	R16
     589 E800      LDI	R16,0x80
     58A 2730      EOR	R19,R16
     58B 910F      POP	R16
     58C 9508      RET
fpneg2:
     58D DFF8      RCALL	fpneg
     58E 933A      ST	R19,-Y
     58F 932A      ST	R18,-Y
     590 931A      ST	R17,-Y
     591 930A      ST	R16,-Y
     592 9508      RET
saveR8toR25:
     593 928A      ST	R8,-Y
     594 929A      ST	R9,-Y
     595 92AA      ST	R10,-Y
     596 92BA      ST	R11,-Y
     597 92CA      ST	R12,-Y
     598 92DA      ST	R13,-Y
     599 92EA      ST	R14,-Y
     59A 92FA      ST	R15,-Y
     59B 934A      ST	R20,-Y
     59C 935A      ST	R21,-Y
     59D 936A      ST	R22,-Y
     59E 937A      ST	R23,-Y
     59F 938A      ST	R24,-Y
     5A0 939A      ST	R25,-Y
     5A1 9508      RET
restoreR8toR25:
     5A2 9199      LD	R25,Y+
     5A3 9189      LD	R24,Y+
     5A4 9179      LD	R23,Y+
     5A5 9169      LD	R22,Y+
     5A6 9159      LD	R21,Y+
     5A7 9149      LD	R20,Y+
     5A8 90F9      LD	R15,Y+
     5A9 90E9      LD	R14,Y+
     5AA 90D9      LD	R13,Y+
     5AB 90C9      LD	R12,Y+
     5AC 90B9      LD	R11,Y+
     5AD 90A9      LD	R10,Y+
     5AE 9099      LD	R9,Y+
     5AF 9089      LD	R8,Y+
     5B0 9508      RET
fpmule:
     5B1 940E 0593 CALL	saveR8toR25
     5B3 93AA      ST	R26,-Y
     5B4 93BA      ST	R27,-Y
     5B5 940E 0539 CALL	unpacku
     5B7 F1D1      BEQ	0x05F2
     5B8 2EE6      MOV	R14,R22
     5B9 2ED5      MOV	R13,R21
     5BA 2EC4      MOV	R12,R20
     5BB 2EB3      MOV	R11,R19
     5BC 2EA2      MOV	R10,R18
     5BD 2E91      MOV	R9,R17
     5BE 2E80      MOV	R8,R16
     5BF 8100      LDD	R16,Z+0
     5C0 8111      LDD	R17,Z+1
     5C1 8122      LDD	R18,Z+2
     5C2 8133      LDD	R19,Z+3
     5C3 940E 0539 CALL	unpacku
     5C5 F161      BEQ	0x05F2
     5C6 256E      EOR	R22,R14
     5C7 0D4C      ADD	R20,R12
     5C8 1D5D      ADC	R21,R13
     5C9 3840      CPI	R20,0x80
     5CA 0753      CPC	R21,R19
     5CB F55C      BGE	0x05F7
     5CC 3841      CPI	R20,0x81
     5CD EF7F      LDI	R23,0xFF
     5CE 0757      CPC	R21,R23
     5CF F164      BLT	0x05FC
     5D0 9EA2      MUL	R10,R18
     5D1 2DB1      MOV	R27,R1
     5D2 2DA0      MOV	R26,R0
     5D3 9E91      MUL	R9,R17
     5D4 2D91      MOV	R25,R1
     5D5 2D80      MOV	R24,R0
     5D6 9EA0      MUL	R10,R16
     5D7 0D80      ADD	R24,R0
     5D8 1D91      ADC	R25,R1
     5D9 1FA3      ADC	R26,R19
     5DA 1FB3      ADC	R27,R19
     5DB 9E82      MUL	R8,R18
     5DC 0D80      ADD	R24,R0
     5DD 1D91      ADC	R25,R1
     5DE 1FA3      ADC	R26,R19
     5DF 1FB3      ADC	R27,R19
     5E0 9E92      MUL	R9,R18
     5E1 0D90      ADD	R25,R0
     5E2 1DA1      ADC	R26,R1
     5E3 1FB3      ADC	R27,R19
     5E4 9EA1      MUL	R10,R17
     5E5 0D90      ADD	R25,R0
     5E6 1DA1      ADC	R26,R1
     5E7 1FB3      ADC	R27,R19
     5E8 2F2B      MOV	R18,R27
     5E9 2F1A      MOV	R17,R26
     5EA 2F09      MOV	R16,R25
     5EB 0F88      LSL	R24
     5EC 1F00      ROL	R16
     5ED 1F11      ROL	R17
     5EE 1F22      ROL	R18
     5EF 1F33      ROL	R19
     5F0 940E 054E CALL	normalize_and_pack
     5F2 91B9      LD	R27,Y+
     5F3 91A9      LD	R26,Y+
     5F4 940E 05A2 CALL	restoreR8toR25
     5F6 9508      RET
     5F7 EF0F      LDI	R16,0xFF
     5F8 2F10      MOV	R17,R16
     5F9 E72F      LDI	R18,0x7F
     5FA E74F      LDI	R20,0x7F
     5FB CFF6      RJMP	0x05F2
     5FC 2700      CLR	R16
     5FD 2F10      MOV	R17,R16
     5FE 2F20      MOV	R18,R16
     5FF 2F30      MOV	R19,R16
     600 CFF1      RJMP	0x05F2
fpmule1:
     601 93FA      ST	R31,-Y
     602 93EA      ST	R30,-Y
     603 81EA      LDD	R30,Y+2
     604 81FB      LDD	R31,Y+3
     605 940E 05B1 CALL	fpmule
     607 91E9      LD	R30,Y+
     608 91F9      LD	R31,Y+
     609 9622      ADIW	R28,2
     60A 9508      RET
fpmule2:
     60B 93FA      ST	R31,-Y
     60C 93EA      ST	R30,-Y
     60D 2FEC      MOV	R30,R28
     60E 2FFD      MOV	R31,R29
     60F 9632      ADIW	R30,2
     610 940E 05B1 CALL	fpmule
     612 91E9      LD	R30,Y+
     613 91F9      LD	R31,Y+
     614 9624      ADIW	R28,4
     615 9508      RET
fpmule1x:
     616 93FA      ST	R31,-Y
     617 93EA      ST	R30,-Y
     618 81EA      LDD	R30,Y+2
     619 81FB      LDD	R31,Y+3
     61A 940E 05B1 CALL	fpmule
     61C 91E9      LD	R30,Y+
     61D 91F9      LD	R31,Y+
     61E 8339      STD	Y+1,R19
     61F 8328      STD	Y+0,R18
     620 931A      ST	R17,-Y
     621 930A      ST	R16,-Y
     622 9508      RET
fpcmp:
     623 940E 038A CALL	fpsub
     625 2333      TST	R19
     626 F03A      BMI	0x062E
     627 940E 0531 CALL	tstR16_R19
     629 F011      BEQ	0x062C
     62A E001      LDI	R16,1
     62B 9508      RET
     62C 2700      CLR	R16
     62D 9508      RET
     62E EF0F      LDI	R16,0xFF
     62F 9508      RET
fpcmp1:
     630 93FA      ST	R31,-Y
     631 93EA      ST	R30,-Y
     632 81EA      LDD	R30,Y+2
     633 81FB      LDD	R31,Y+3
     634 940E 0623 CALL	fpcmp
     636 91E9      LD	R30,Y+
     637 91F9      LD	R31,Y+
     638 9622      ADIW	R28,2
     639 2300      TST	R16
     63A 9508      RET
fpcmp2:
     63B 93FA      ST	R31,-Y
     63C 93EA      ST	R30,-Y
     63D 2FEC      MOV	R30,R28
     63E 2FFD      MOV	R31,R29
     63F 9632      ADIW	R30,2
     640 940E 0623 CALL	fpcmp
     642 91E9      LD	R30,Y+
     643 91F9      LD	R31,Y+
     644 9624      ADIW	R28,4
     645 2300      TST	R16
     646 9508      RET
_satan:
     647 940E 02FE CALL	push_arg4
     649 8028      LDD	R2,Y+0
     64A 8039      LDD	R3,Y+1
     64B 804A      LDD	R4,Y+2
     64C 805B      LDD	R5,Y+3
     64D E200      LDI	R16,0x20
     64E E011      LDI	R17,1
     64F 940E 031F CALL	elpm32
     651 933A      ST	R19,-Y
     652 932A      ST	R18,-Y
     653 931A      ST	R17,-Y
     654 930A      ST	R16,-Y
     655 0181      MOVW	R16,R2
     656 0192      MOVW	R18,R4
     657 940E 063B CALL	fpcmp2
     659 F434      BGE	0x0660
     65A 8108      LDD	R16,Y+0
     65B 8119      LDD	R17,Y+1
     65C 812A      LDD	R18,Y+2
     65D 813B      LDD	R19,Y+3
     65E D059      RCALL	_xatan
     65F C056      RJMP	0x06B6
     660 01CE      MOVW	R24,R28
     661 E10C      LDI	R16,0x1C
     662 E011      LDI	R17,1
     663 940E 031F CALL	elpm32
     665 939A      ST	R25,-Y
     666 938A      ST	R24,-Y
     667 940E 0630 CALL	fpcmp1
     669 F4BC      BGE	0x0681
     66A E104      LDI	R16,0x14
     66B E011      LDI	R17,1
     66C 940E 031F CALL	elpm32
     66E 01CE      MOVW	R24,R28
     66F 939A      ST	R25,-Y
     670 938A      ST	R24,-Y
     671 940E 0479 CALL	fpdiv1
     673 D044      RCALL	_xatan
     674 0118      MOVW	R2,R16
     675 0129      MOVW	R4,R18
     676 E108      LDI	R16,0x18
     677 E011      LDI	R17,1
     678 940E 031F CALL	elpm32
     67A 925A      ST	R5,-Y
     67B 924A      ST	R4,-Y
     67C 923A      ST	R3,-Y
     67D 922A      ST	R2,-Y
     67E 940E 0422 CALL	fpsub2
     680 C035      RJMP	0x06B6
     681 8028      LDD	R2,Y+0
     682 8039      LDD	R3,Y+1
     683 804A      LDD	R4,Y+2
     684 805B      LDD	R5,Y+3
     685 E104      LDI	R16,0x14
     686 E011      LDI	R17,1
     687 940E 031F CALL	elpm32
     689 933A      ST	R19,-Y
     68A 932A      ST	R18,-Y
     68B 931A      ST	R17,-Y
     68C 930A      ST	R16,-Y
     68D 0181      MOVW	R16,R2
     68E 0192      MOVW	R18,R4
     68F 940E 0422 CALL	fpsub2
     691 0118      MOVW	R2,R16
     692 0129      MOVW	R4,R18
     693 8068      LDD	R6,Y+0
     694 8079      LDD	R7,Y+1
     695 808A      LDD	R8,Y+2
     696 809B      LDD	R9,Y+3
     697 E104      LDI	R16,0x14
     698 E011      LDI	R17,1
     699 940E 031F CALL	elpm32
     69B 933A      ST	R19,-Y
     69C 932A      ST	R18,-Y
     69D 931A      ST	R17,-Y
     69E 930A      ST	R16,-Y
     69F 0183      MOVW	R16,R6
     6A0 0194      MOVW	R18,R8
     6A1 940E 0414 CALL	fpadd2x
     6A3 0181      MOVW	R16,R2
     6A4 0192      MOVW	R18,R4
     6A5 940E 0482 CALL	fpdiv2
     6A7 D010      RCALL	_xatan
     6A8 0118      MOVW	R2,R16
     6A9 0129      MOVW	R4,R18
     6AA E100      LDI	R16,0x10
     6AB E011      LDI	R17,1
     6AC 940E 031F CALL	elpm32
     6AE 933A      ST	R19,-Y
     6AF 932A      ST	R18,-Y
     6B0 931A      ST	R17,-Y
     6B1 930A      ST	R16,-Y
     6B2 0181      MOVW	R16,R2
     6B3 0192      MOVW	R18,R4
     6B4 940E 0409 CALL	fpadd2
     6B6 9624      ADIW	R28,4
     6B7 9508      RET
_xatan:
     6B8 940E 02FE CALL	push_arg4
     6BA 940E 034F CALL	push_xgsetF000
     6BC 9724      SBIW	R28,4
     6BD 8508      LDD	R16,Y+8
     6BE 8519      LDD	R17,Y+9
     6BF 852A      LDD	R18,Y+10
     6C0 853B      LDD	R19,Y+11
     6C1 01CE      MOVW	R24,R28
     6C2 9608      ADIW	R24,0x8
     6C3 939A      ST	R25,-Y
     6C4 938A      ST	R24,-Y
     6C5 940E 0601 CALL	fpmule1
     6C7 8308      STD	Y+0,R16
     6C8 8319      STD	Y+1,R17
     6C9 832A      STD	Y+2,R18
     6CA 833B      STD	Y+3,R19
     6CB 8428      LDD	R2,Y+8
     6CC 8439      LDD	R3,Y+9
     6CD 844A      LDD	R4,Y+10
     6CE 845B      LDD	R5,Y+11
     6CF E00C      LDI	R16,0xC
     6D0 E011      LDI	R17,1
     6D1 940E 031F CALL	elpm32
     6D3 01CE      MOVW	R24,R28
     6D4 939A      ST	R25,-Y
     6D5 938A      ST	R24,-Y
     6D6 940E 0601 CALL	fpmule1
     6D8 0138      MOVW	R6,R16
     6D9 0149      MOVW	R8,R18
     6DA E008      LDI	R16,0x8
     6DB E011      LDI	R17,1
     6DC 940E 031F CALL	elpm32
     6DE 933A      ST	R19,-Y
     6DF 932A      ST	R18,-Y
     6E0 931A      ST	R17,-Y
     6E1 930A      ST	R16,-Y
     6E2 0183      MOVW	R16,R6
     6E3 0194      MOVW	R18,R8
     6E4 940E 0414 CALL	fpadd2x
     6E6 0181      MOVW	R16,R2
     6E7 0192      MOVW	R18,R4
     6E8 940E 060B CALL	fpmule2
     6EA 0118      MOVW	R2,R16
     6EB 0129      MOVW	R4,R18
     6EC 8068      LDD	R6,Y+0
     6ED 8079      LDD	R7,Y+1
     6EE 808A      LDD	R8,Y+2
     6EF 809B      LDD	R9,Y+3
     6F0 01A3      MOVW	R20,R6
     6F1 01B4      MOVW	R22,R8
     6F2 E004      LDI	R16,4
     6F3 E011      LDI	R17,1
     6F4 940E 031F CALL	elpm32
     6F6 933A      ST	R19,-Y
     6F7 932A      ST	R18,-Y
     6F8 931A      ST	R17,-Y
     6F9 930A      ST	R16,-Y
     6FA 018A      MOVW	R16,R20
     6FB 019B      MOVW	R18,R22
     6FC 940E 0414 CALL	fpadd2x
     6FE 0183      MOVW	R16,R6
     6FF 0194      MOVW	R18,R8
     700 940E 060B CALL	fpmule2
     702 0138      MOVW	R6,R16
     703 0149      MOVW	R8,R18
     704 E000      LDI	R16,0
     705 E011      LDI	R17,1
     706 940E 031F CALL	elpm32
     708 933A      ST	R19,-Y
     709 932A      ST	R18,-Y
     70A 931A      ST	R17,-Y
     70B 930A      ST	R16,-Y
     70C 0183      MOVW	R16,R6
     70D 0194      MOVW	R18,R8
     70E 940E 0414 CALL	fpadd2x
     710 0181      MOVW	R16,R2
     711 0192      MOVW	R18,R4
     712 940E 0482 CALL	fpdiv2
     714 9624      ADIW	R28,4
     715 940E 0354 CALL	pop_xgsetF000
     717 9624      ADIW	R28,4
     718 9508      RET
_asinf:
     719 940E 02FE CALL	push_arg4
     71B 934A      ST	R20,-Y
     71C 9724      SBIW	R28,4
     71D 802D      LDD	R2,Y+5
     71E 803E      LDD	R3,Y+6
     71F 804F      LDD	R4,Y+7
     720 8458      LDD	R5,Y+8
     721 EF0C      LDI	R16,0xFC
     722 E010      LDI	R17,0
     723 940E 031F CALL	elpm32
     725 933A      ST	R19,-Y
     726 932A      ST	R18,-Y
     727 931A      ST	R17,-Y
     728 930A      ST	R16,-Y
     729 0181      MOVW	R16,R2
     72A 0192      MOVW	R18,R4
     72B 940E 063B CALL	fpcmp2
     72D F05C      BLT	0x0739
     72E 01CE      MOVW	R24,R28
     72F 9605      ADIW	R24,5
     730 E104      LDI	R16,0x14
     731 E011      LDI	R17,1
     732 940E 031F CALL	elpm32
     734 939A      ST	R25,-Y
     735 938A      ST	R24,-Y
     736 940E 0630 CALL	fpcmp1
     738 F45C      BGE	0x0744
     739 E081      LDI	R24,1
     73A E090      LDI	R25,0
     73B 9390 0206 STS	errno+1,R25
     73D 9380 0205 STS	errno,R24
     73F EF08      LDI	R16,0xF8
     740 E010      LDI	R17,0
     741 940E 031F CALL	elpm32
     743 C07B      RJMP	0x07BF
     744 802D      LDD	R2,Y+5
     745 803E      LDD	R3,Y+6
     746 804F      LDD	R4,Y+7
     747 8458      LDD	R5,Y+8
     748 EF04      LDI	R16,0xF4
     749 E010      LDI	R17,0
     74A 940E 031F CALL	elpm32
     74C 933A      ST	R19,-Y
     74D 932A      ST	R18,-Y
     74E 931A      ST	R17,-Y
     74F 930A      ST	R16,-Y
     750 0181      MOVW	R16,R2
     751 0192      MOVW	R18,R4
     752 940E 063B CALL	fpcmp2
     754 F014      BLT	0x0757
     755 E041      LDI	R20,1
     756 C00B      RJMP	0x0762
     757 810D      LDD	R16,Y+5
     758 811E      LDD	R17,Y+6
     759 812F      LDD	R18,Y+7
     75A 8538      LDD	R19,Y+8
     75B 940E 0586 CALL	fpneg
     75D 830D      STD	Y+5,R16
     75E 831E      STD	Y+6,R17
     75F 832F      STD	Y+7,R18
     760 8738      STD	Y+8,R19
     761 EF4F      LDI	R20,0xFF
     762 E104      LDI	R16,0x14
     763 E011      LDI	R17,1
     764 940E 031F CALL	elpm32
     766 0118      MOVW	R2,R16
     767 0129      MOVW	R4,R18
     768 810D      LDD	R16,Y+5
     769 811E      LDD	R17,Y+6
     76A 812F      LDD	R18,Y+7
     76B 8538      LDD	R19,Y+8
     76C 01CE      MOVW	R24,R28
     76D 9605      ADIW	R24,5
     76E 939A      ST	R25,-Y
     76F 938A      ST	R24,-Y
     770 940E 0616 CALL	fpmule1x
     772 0181      MOVW	R16,R2
     773 0192      MOVW	R18,R4
     774 940E 0422 CALL	fpsub2
     776 940E 08F4 CALL	_sqrtf
     778 8308      STD	Y+0,R16
     779 8319      STD	Y+1,R17
     77A 832A      STD	Y+2,R18
     77B 833B      STD	Y+3,R19
     77C 01CE      MOVW	R24,R28
     77D 9605      ADIW	R24,5
     77E EF00      LDI	R16,0xF0
     77F E010      LDI	R17,0
     780 940E 031F CALL	elpm32
     782 939A      ST	R25,-Y
     783 938A      ST	R24,-Y
     784 940E 0630 CALL	fpcmp1
     786 F4E4      BGE	0x07A3
     787 8108      LDD	R16,Y+0
     788 8119      LDD	R17,Y+1
     789 812A      LDD	R18,Y+2
     78A 813B      LDD	R19,Y+3
     78B 01CE      MOVW	R24,R28
     78C 9605      ADIW	R24,5
     78D 939A      ST	R25,-Y
     78E 938A      ST	R24,-Y
     78F 940E 0479 CALL	fpdiv1
     791 DEB5      RCALL	_satan
     792 0118      MOVW	R2,R16
     793 0129      MOVW	R4,R18
     794 E108      LDI	R16,0x18
     795 E011      LDI	R17,1
     796 940E 031F CALL	elpm32
     798 925A      ST	R5,-Y
     799 924A      ST	R4,-Y
     79A 923A      ST	R3,-Y
     79B 922A      ST	R2,-Y
     79C 940E 0422 CALL	fpsub2
     79E 8308      STD	Y+0,R16
     79F 8319      STD	Y+1,R17
     7A0 832A      STD	Y+2,R18
     7A1 833B      STD	Y+3,R19
     7A2 C00E      RJMP	0x07B1
     7A3 810D      LDD	R16,Y+5
     7A4 811E      LDD	R17,Y+6
     7A5 812F      LDD	R18,Y+7
     7A6 8538      LDD	R19,Y+8
     7A7 01CE      MOVW	R24,R28
     7A8 939A      ST	R25,-Y
     7A9 938A      ST	R24,-Y
     7AA 940E 0479 CALL	fpdiv1
     7AC DE9A      RCALL	_satan
     7AD 8308      STD	Y+0,R16
     7AE 8319      STD	Y+1,R17
     7AF 832A      STD	Y+2,R18
     7B0 833B      STD	Y+3,R19
     7B1 2422      CLR	R2
     7B2 1624      CP	R2,R20
     7B3 F42C      BGE	0x07B9
     7B4 8108      LDD	R16,Y+0
     7B5 8119      LDD	R17,Y+1
     7B6 812A      LDD	R18,Y+2
     7B7 813B      LDD	R19,Y+3
     7B8 C006      RJMP	0x07BF
     7B9 8108      LDD	R16,Y+0
     7BA 8119      LDD	R17,Y+1
     7BB 812A      LDD	R18,Y+2
     7BC 813B      LDD	R19,Y+3
     7BD 940E 0586 CALL	fpneg
     7BF 9624      ADIW	R28,4
     7C0 9149      LD	R20,Y+
     7C1 9624      ADIW	R28,4
     7C2 9508      RET
_atan2f:
     7C3 940E 02FE CALL	push_arg4
     7C5 802C      LDD	R2,Y+4
     7C6 803D      LDD	R3,Y+5
     7C7 804E      LDD	R4,Y+6
     7C8 805F      LDD	R5,Y+7
     7C9 E308      LDI	R16,0x38
     7CA E011      LDI	R17,1
     7CB 940E 031F CALL	elpm32
     7CD 933A      ST	R19,-Y
     7CE 932A      ST	R18,-Y
     7CF 931A      ST	R17,-Y
     7D0 930A      ST	R16,-Y
     7D1 0181      MOVW	R16,R2
     7D2 0192      MOVW	R18,R4
     7D3 940E 063B CALL	fpcmp2
     7D5 F581      BNE	0x0806
     7D6 8028      LDD	R2,Y+0
     7D7 8039      LDD	R3,Y+1
     7D8 804A      LDD	R4,Y+2
     7D9 805B      LDD	R5,Y+3
     7DA E308      LDI	R16,0x38
     7DB E011      LDI	R17,1
     7DC 940E 031F CALL	elpm32
     7DE 933A      ST	R19,-Y
     7DF 932A      ST	R18,-Y
     7E0 931A      ST	R17,-Y
     7E1 930A      ST	R16,-Y
     7E2 0181      MOVW	R16,R2
     7E3 0192      MOVW	R18,R4
     7E4 940E 063B CALL	fpcmp2
     7E6 F459      BNE	0x07F2
     7E7 E081      LDI	R24,1
     7E8 E090      LDI	R25,0
     7E9 9390 0206 STS	errno+1,R25
     7EB 9380 0205 STS	errno,R24
     7ED E304      LDI	R16,0x34
     7EE E011      LDI	R17,1
     7EF 940E 031F CALL	elpm32
     7F1 C094      RJMP	0x0886
     7F2 01CE      MOVW	R24,R28
     7F3 E308      LDI	R16,0x38
     7F4 E011      LDI	R17,1
     7F5 940E 031F CALL	elpm32
     7F7 939A      ST	R25,-Y
     7F8 938A      ST	R24,-Y
     7F9 940E 0630 CALL	fpcmp1
     7FB F42C      BGE	0x0801
     7FC E300      LDI	R16,0x30
     7FD E011      LDI	R17,1
     7FE 940E 031F CALL	elpm32
     800 C085      RJMP	0x0886
     801 E20C      LDI	R16,0x2C
     802 E011      LDI	R17,1
     803 940E 031F CALL	elpm32
     805 C080      RJMP	0x0886
     806 01CE      MOVW	R24,R28
     807 9604      ADIW	R24,4
     808 E308      LDI	R16,0x38
     809 E011      LDI	R17,1
     80A 940E 031F CALL	elpm32
     80C 939A      ST	R25,-Y
     80D 938A      ST	R24,-Y
     80E 940E 0630 CALL	fpcmp1
     810 F57C      BGE	0x0840
     811 8028      LDD	R2,Y+0
     812 8039      LDD	R3,Y+1
     813 804A      LDD	R4,Y+2
     814 805B      LDD	R5,Y+3
     815 E308      LDI	R16,0x38
     816 E011      LDI	R17,1
     817 940E 031F CALL	elpm32
     819 933A      ST	R19,-Y
     81A 932A      ST	R18,-Y
     81B 931A      ST	R17,-Y
     81C 930A      ST	R16,-Y
     81D 0181      MOVW	R16,R2
     81E 0192      MOVW	R18,R4
     81F 940E 063B CALL	fpcmp2
     821 F06C      BLT	0x082F
     822 8108      LDD	R16,Y+0
     823 8119      LDD	R17,Y+1
     824 812A      LDD	R18,Y+2
     825 813B      LDD	R19,Y+3
     826 01CE      MOVW	R24,R28
     827 9604      ADIW	R24,4
     828 939A      ST	R25,-Y
     829 938A      ST	R24,-Y
     82A 940E 0479 CALL	fpdiv1
     82C 940E 0647 CALL	_satan
     82E C057      RJMP	0x0886
     82F 8108      LDD	R16,Y+0
     830 8119      LDD	R17,Y+1
     831 812A      LDD	R18,Y+2
     832 813B      LDD	R19,Y+3
     833 940E 0586 CALL	fpneg
     835 01CE      MOVW	R24,R28
     836 9604      ADIW	R24,4
     837 939A      ST	R25,-Y
     838 938A      ST	R24,-Y
     839 940E 0479 CALL	fpdiv1
     83B 940E 0647 CALL	_satan
     83D 940E 0586 CALL	fpneg
     83F C046      RJMP	0x0886
     840 8028      LDD	R2,Y+0
     841 8039      LDD	R3,Y+1
     842 804A      LDD	R4,Y+2
     843 805B      LDD	R5,Y+3
     844 E308      LDI	R16,0x38
     845 E011      LDI	R17,1
     846 940E 031F CALL	elpm32
     848 933A      ST	R19,-Y
     849 932A      ST	R18,-Y
     84A 931A      ST	R17,-Y
     84B 930A      ST	R16,-Y
     84C 0181      MOVW	R16,R2
     84D 0192      MOVW	R18,R4
     84E 940E 063B CALL	fpcmp2
     850 F0DC      BLT	0x086C
     851 8108      LDD	R16,Y+0
     852 8119      LDD	R17,Y+1
     853 812A      LDD	R18,Y+2
     854 813B      LDD	R19,Y+3
     855 940E 0586 CALL	fpneg
     857 01CE      MOVW	R24,R28
     858 9604      ADIW	R24,4
     859 939A      ST	R25,-Y
     85A 938A      ST	R24,-Y
     85B 940E 0479 CALL	fpdiv1
     85D 940E 0647 CALL	_satan
     85F 0118      MOVW	R2,R16
     860 0129      MOVW	R4,R18
     861 E208      LDI	R16,0x28
     862 E011      LDI	R17,1
     863 940E 031F CALL	elpm32
     865 925A      ST	R5,-Y
     866 924A      ST	R4,-Y
     867 923A      ST	R3,-Y
     868 922A      ST	R2,-Y
     869 940E 0422 CALL	fpsub2
     86B C01A      RJMP	0x0886
     86C 8108      LDD	R16,Y+0
     86D 8119      LDD	R17,Y+1
     86E 812A      LDD	R18,Y+2
     86F 813B      LDD	R19,Y+3
     870 01CE      MOVW	R24,R28
     871 9604      ADIW	R24,4
     872 939A      ST	R25,-Y
     873 938A      ST	R24,-Y
     874 940E 0479 CALL	fpdiv1
     876 940E 0647 CALL	_satan
     878 0118      MOVW	R2,R16
     879 0129      MOVW	R4,R18
     87A E204      LDI	R16,0x24
     87B E011      LDI	R17,1
     87C 940E 031F CALL	elpm32
     87E 933A      ST	R19,-Y
     87F 932A      ST	R18,-Y
     880 931A      ST	R17,-Y
     881 930A      ST	R16,-Y
     882 0181      MOVW	R16,R2
     883 0192      MOVW	R18,R4
     884 940E 0409 CALL	fpadd2
     886 9624      ADIW	R28,4
     887 9508      RET
_frexpf:
     888 940E 02FE CALL	push_arg4
     88A 92AA      ST	R10,-Y
     88B 92BA      ST	R11,-Y
     88C 9728      SBIW	R28,0x8
     88D 84AE      LDD	R10,Y+14
     88E 84BF      LDD	R11,Y+15
     88F 842A      LDD	R2,Y+10
     890 843B      LDD	R3,Y+11
     891 844C      LDD	R4,Y+12
     892 845D      LDD	R5,Y+13
     893 E400      LDI	R16,0x40
     894 E011      LDI	R17,1
     895 940E 031F CALL	elpm32
     897 933A      ST	R19,-Y
     898 932A      ST	R18,-Y
     899 931A      ST	R17,-Y
     89A 930A      ST	R16,-Y
     89B 0181      MOVW	R16,R2
     89C 0192      MOVW	R18,R4
     89D 940E 063B CALL	fpcmp2
     89F F451      BNE	0x08AA
     8A0 2422      CLR	R2
     8A1 2433      CLR	R3
     8A2 01F5      MOVW	R30,R10
     8A3 8231      STD	Z+1,R3
     8A4 8220      STD	Z+0,R2
     8A5 E30C      LDI	R16,0x3C
     8A6 E011      LDI	R17,1
     8A7 940E 031F CALL	elpm32
     8A9 C045      RJMP	0x08EF
     8AA 842A      LDD	R2,Y+10
     8AB 843B      LDD	R3,Y+11
     8AC 844C      LDD	R4,Y+12
     8AD 845D      LDD	R5,Y+13
     8AE 8228      STD	Y+0,R2
     8AF 8239      STD	Y+1,R3
     8B0 824A      STD	Y+2,R4
     8B1 825B      STD	Y+3,R5
     8B2 802A      LDD	R2,Y+2
     8B3 803B      LDD	R3,Y+3
     8B4 0C22      LSL	R2
     8B5 1C33      ROL	R3
     8B6 823B      STD	Y+3,R3
     8B7 822A      STD	Y+2,R2
     8B8 2D83      MOV	R24,R3
     8B9 2799      CLR	R25
     8BA 578E      SUBI	R24,0x7E
     8BB 4090      SBCI	R25,0
     8BC 01F5      MOVW	R30,R10
     8BD 8391      STD	Z+1,R25
     8BE 8380      STD	Z+0,R24
     8BF E78E      LDI	R24,0x7E
     8C0 838B      STD	Y+3,R24
     8C1 802A      LDD	R2,Y+2
     8C2 803B      LDD	R3,Y+3
     8C3 9436      LSR	R3
     8C4 9427      ROR	R2
     8C5 823B      STD	Y+3,R3
     8C6 822A      STD	Y+2,R2
     8C7 842A      LDD	R2,Y+10
     8C8 843B      LDD	R3,Y+11
     8C9 844C      LDD	R4,Y+12
     8CA 845D      LDD	R5,Y+13
     8CB E400      LDI	R16,0x40
     8CC E011      LDI	R17,1
     8CD 940E 031F CALL	elpm32
     8CF 933A      ST	R19,-Y
     8D0 932A      ST	R18,-Y
     8D1 931A      ST	R17,-Y
     8D2 930A      ST	R16,-Y
     8D3 0181      MOVW	R16,R2
     8D4 0192      MOVW	R18,R4
     8D5 940E 063B CALL	fpcmp2
     8D7 F45C      BGE	0x08E3
     8D8 8108      LDD	R16,Y+0
     8D9 8119      LDD	R17,Y+1
     8DA 812A      LDD	R18,Y+2
     8DB 813B      LDD	R19,Y+3
     8DC 940E 0586 CALL	fpneg
     8DE 830C      STD	Y+4,R16
     8DF 831D      STD	Y+5,R17
     8E0 832E      STD	Y+6,R18
     8E1 833F      STD	Y+7,R19
     8E2 C008      RJMP	0x08EB
     8E3 8028      LDD	R2,Y+0
     8E4 8039      LDD	R3,Y+1
     8E5 804A      LDD	R4,Y+2
     8E6 805B      LDD	R5,Y+3
     8E7 822C      STD	Y+4,R2
     8E8 823D      STD	Y+5,R3
     8E9 824E      STD	Y+6,R4
     8EA 825F      STD	Y+7,R5
     8EB 810C      LDD	R16,Y+4
     8EC 811D      LDD	R17,Y+5
     8ED 812E      LDD	R18,Y+6
     8EE 813F      LDD	R19,Y+7
     8EF 9628      ADIW	R28,0x8
     8F0 90B9      LD	R11,Y+
     8F1 90A9      LD	R10,Y+
     8F2 9624      ADIW	R28,4
     8F3 9508      RET
_sqrtf:
     8F4 940E 02FE CALL	push_arg4
     8F6 940E 034F CALL	push_xgsetF000
     8F8 972C      SBIW	R28,0xC
     8F9 8828      LDD	R2,Y+16
     8FA 8839      LDD	R3,Y+17
     8FB 884A      LDD	R4,Y+18
     8FC 885B      LDD	R5,Y+19
     8FD E504      LDI	R16,0x54
     8FE E011      LDI	R17,1
     8FF 940E 031F CALL	elpm32
     901 933A      ST	R19,-Y
     902 932A      ST	R18,-Y
     903 931A      ST	R17,-Y
     904 930A      ST	R16,-Y
     905 0181      MOVW	R16,R2
     906 0192      MOVW	R18,R4
     907 940E 063B CALL	fpcmp2
     909 F45C      BGE	0x0915
     90A E081      LDI	R24,1
     90B E090      LDI	R25,0
     90C 9390 0206 STS	errno+1,R25
     90E 9380 0205 STS	errno,R24
     910 E500      LDI	R16,0x50
     911 E011      LDI	R17,1
     912 940E 031F CALL	elpm32
     914 C11F      RJMP	0x0A34
     915 8828      LDD	R2,Y+16
     916 8839      LDD	R3,Y+17
     917 884A      LDD	R4,Y+18
     918 885B      LDD	R5,Y+19
     919 E504      LDI	R16,0x54
     91A E011      LDI	R17,1
     91B 940E 031F CALL	elpm32
     91D 933A      ST	R19,-Y
     91E 932A      ST	R18,-Y
     91F 931A      ST	R17,-Y
     920 930A      ST	R16,-Y
     921 0181      MOVW	R16,R2
     922 0192      MOVW	R18,R4
     923 940E 063B CALL	fpcmp2
     925 F429      BNE	0x092B
     926 E500      LDI	R16,0x50
     927 E011      LDI	R17,1
     928 940E 031F CALL	elpm32
     92A C109      RJMP	0x0A34
     92B 01CE      MOVW	R24,R28
     92C 9602      ADIW	R24,2
     92D 8399      STD	Y+1,R25
     92E 8388      STD	Y+0,R24
     92F 8908      LDD	R16,Y+16
     930 8919      LDD	R17,Y+17
     931 892A      LDD	R18,Y+18
     932 893B      LDD	R19,Y+19
     933 940E 0888 CALL	_frexpf
     935 830C      STD	Y+4,R16
     936 831D      STD	Y+5,R17
     937 832E      STD	Y+6,R18
     938 833F      STD	Y+7,R19
     939 802A      LDD	R2,Y+2
     93A 803B      LDD	R3,Y+3
     93B FE20      SBRS	R2,0
     93C C013      RJMP	0x0950
     93D 810C      LDD	R16,Y+4
     93E 811D      LDD	R17,Y+5
     93F 812E      LDD	R18,Y+6
     940 813F      LDD	R19,Y+7
     941 01CE      MOVW	R24,R28
     942 9604      ADIW	R24,4
     943 939A      ST	R25,-Y
     944 938A      ST	R24,-Y
     945 940E 03F2 CALL	fpadd1
     947 830C      STD	Y+4,R16
     948 831D      STD	Y+5,R17
     949 832E      STD	Y+6,R18
     94A 833F      STD	Y+7,R19
     94B 818A      LDD	R24,Y+2
     94C 819B      LDD	R25,Y+3
     94D 9701      SBIW	R24,1
     94E 839B      STD	Y+3,R25
     94F 838A      STD	Y+2,R24
     950 E40C      LDI	R16,0x4C
     951 E011      LDI	R17,1
     952 940E 031F CALL	elpm32
     954 0118      MOVW	R2,R16
     955 0129      MOVW	R4,R18
     956 806C      LDD	R6,Y+4
     957 807D      LDD	R7,Y+5
     958 808E      LDD	R8,Y+6
     959 809F      LDD	R9,Y+7
     95A E408      LDI	R16,0x48
     95B E011      LDI	R17,1
     95C 940E 031F CALL	elpm32
     95E 933A      ST	R19,-Y
     95F 932A      ST	R18,-Y
     960 931A      ST	R17,-Y
     961 930A      ST	R16,-Y
     962 0183      MOVW	R16,R6
     963 0194      MOVW	R18,R8
     964 940E 0414 CALL	fpadd2x
     966 0181      MOVW	R16,R2
     967 0192      MOVW	R18,R4
     968 940E 060B CALL	fpmule2
     96A 830C      STD	Y+4,R16
     96B 831D      STD	Y+5,R17
     96C 832E      STD	Y+6,R18
     96D 833F      STD	Y+7,R19
     96E C013      RJMP	0x0982
     96F E404      LDI	R16,0x44
     970 E011      LDI	R17,1
     971 940E 031F CALL	elpm32
     973 01CE      MOVW	R24,R28
     974 9604      ADIW	R24,4
     975 939A      ST	R25,-Y
     976 938A      ST	R24,-Y
     977 940E 0601 CALL	fpmule1
     979 830C      STD	Y+4,R16
     97A 831D      STD	Y+5,R17
     97B 832E      STD	Y+6,R18
     97C 833F      STD	Y+7,R19
     97D 818A      LDD	R24,Y+2
     97E 819B      LDD	R25,Y+3
     97F 97CC      SBIW	R24,0x3C
     980 839B      STD	Y+3,R25
     981 838A      STD	Y+2,R24
     982 E38C      LDI	R24,0x3C
     983 E090      LDI	R25,0
     984 802A      LDD	R2,Y+2
     985 803B      LDD	R3,Y+3
     986 1582      CP	R24,R2
     987 0593      CPC	R25,R3
     988 F334      BLT	0x096F
     989 C019      RJMP	0x09A3
     98A 802C      LDD	R2,Y+4
     98B 803D      LDD	R3,Y+5
     98C 804E      LDD	R4,Y+6
     98D 805F      LDD	R5,Y+7
     98E E404      LDI	R16,0x44
     98F E011      LDI	R17,1
     990 940E 031F CALL	elpm32
     992 933A      ST	R19,-Y
     993 932A      ST	R18,-Y
     994 931A      ST	R17,-Y
     995 930A      ST	R16,-Y
     996 0181      MOVW	R16,R2
     997 0192      MOVW	R18,R4
     998 940E 0482 CALL	fpdiv2
     99A 830C      STD	Y+4,R16
     99B 831D      STD	Y+5,R17
     99C 832E      STD	Y+6,R18
     99D 833F      STD	Y+7,R19
     99E 818A      LDD	R24,Y+2
     99F 819B      LDD	R25,Y+3
     9A0 96CC      ADIW	R24,0x3C
     9A1 839B      STD	Y+3,R25
     9A2 838A      STD	Y+2,R24
     9A3 818A      LDD	R24,Y+2
     9A4 819B      LDD	R25,Y+3
     9A5 3C84      CPI	R24,0xC4
     9A6 EFAF      LDI	R26,0xFF
     9A7 079A      CPC	R25,R26
     9A8 F30C      BLT	0x098A
     9A9 E041      LDI	R20,1
     9AA E050      LDI	R21,0
     9AB E060      LDI	R22,0
     9AC E070      LDI	R23,0
     9AD 8748      STD	Y+8,R20
     9AE 8759      STD	Y+9,R21
     9AF 876A      STD	Y+10,R22
     9B0 877B      STD	Y+11,R23
     9B1 818A      LDD	R24,Y+2
     9B2 819B      LDD	R25,Y+3
     9B3 3080      CPI	R24,0
     9B4 E0A0      LDI	R26,0
     9B5 079A      CPC	R25,R26
     9B6 F12C      BLT	0x09DC
     9B7 011C      MOVW	R2,R24
     9B8 9435      ASR	R3
     9B9 9427      ROR	R2
     9BA 8508      LDD	R16,Y+8
     9BB 8519      LDD	R17,Y+9
     9BC 852A      LDD	R18,Y+10
     9BD 853B      LDD	R19,Y+11
     9BE 922A      ST	R2,-Y
     9BF 940E 037E CALL	lsl32
     9C1 8708      STD	Y+8,R16
     9C2 8719      STD	Y+9,R17
     9C3 872A      STD	Y+10,R18
     9C4 873B      STD	Y+11,R19
     9C5 802C      LDD	R2,Y+4
     9C6 803D      LDD	R3,Y+5
     9C7 804E      LDD	R4,Y+6
     9C8 805F      LDD	R5,Y+7
     9C9 8508      LDD	R16,Y+8
     9CA 8519      LDD	R17,Y+9
     9CB 852A      LDD	R18,Y+10
     9CC 853B      LDD	R19,Y+11
     9CD 940E 0466 CALL	long2fp
     9CF 933A      ST	R19,-Y
     9D0 932A      ST	R18,-Y
     9D1 931A      ST	R17,-Y
     9D2 930A      ST	R16,-Y
     9D3 0181      MOVW	R16,R2
     9D4 0192      MOVW	R18,R4
     9D5 940E 060B CALL	fpmule2
     9D7 830C      STD	Y+4,R16
     9D8 831D      STD	Y+5,R17
     9D9 832E      STD	Y+6,R18
     9DA 833F      STD	Y+7,R19
     9DB C029      RJMP	0x0A05
     9DC 818A      LDD	R24,Y+2
     9DD 819B      LDD	R25,Y+3
     9DE 9580      COM	R24
     9DF 9590      COM	R25
     9E0 5F8F      SUBI	R24,0xFF
     9E1 4F9F      SBCI	R25,0xFF
     9E2 9595      ASR	R25
     9E3 9587      ROR	R24
     9E4 8508      LDD	R16,Y+8
     9E5 8519      LDD	R17,Y+9
     9E6 852A      LDD	R18,Y+10
     9E7 853B      LDD	R19,Y+11
     9E8 938A      ST	R24,-Y
     9E9 940E 037E CALL	lsl32
     9EB 8708      STD	Y+8,R16
     9EC 8719      STD	Y+9,R17
     9ED 872A      STD	Y+10,R18
     9EE 873B      STD	Y+11,R19
     9EF 802C      LDD	R2,Y+4
     9F0 803D      LDD	R3,Y+5
     9F1 804E      LDD	R4,Y+6
     9F2 805F      LDD	R5,Y+7
     9F3 8508      LDD	R16,Y+8
     9F4 8519      LDD	R17,Y+9
     9F5 852A      LDD	R18,Y+10
     9F6 853B      LDD	R19,Y+11
     9F7 940E 0466 CALL	long2fp
     9F9 933A      ST	R19,-Y
     9FA 932A      ST	R18,-Y
     9FB 931A      ST	R17,-Y
     9FC 930A      ST	R16,-Y
     9FD 0181      MOVW	R16,R2
     9FE 0192      MOVW	R18,R4
     9FF 940E 0482 CALL	fpdiv2
     A01 830C      STD	Y+4,R16
     A02 831D      STD	Y+5,R17
     A03 832E      STD	Y+6,R18
     A04 833F      STD	Y+7,R19
     A05 2422      CLR	R2
     A06 2433      CLR	R3
     A07 823B      STD	Y+3,R3
     A08 822A      STD	Y+2,R2
     A09 E40C      LDI	R16,0x4C
     A0A E011      LDI	R17,1
     A0B 940E 031F CALL	elpm32
     A0D 0118      MOVW	R2,R16
     A0E 0129      MOVW	R4,R18
     A0F 8908      LDD	R16,Y+16
     A10 8919      LDD	R17,Y+17
     A11 892A      LDD	R18,Y+18
     A12 893B      LDD	R19,Y+19
     A13 01CE      MOVW	R24,R28
     A14 9604      ADIW	R24,4
     A15 939A      ST	R25,-Y
     A16 938A      ST	R24,-Y
     A17 940E 0479 CALL	fpdiv1
     A19 01CE      MOVW	R24,R28
     A1A 9604      ADIW	R24,4
     A1B 939A      ST	R25,-Y
     A1C 938A      ST	R24,-Y
     A1D 940E 03FC CALL	fpadd1x
     A1F 0181      MOVW	R16,R2
     A20 0192      MOVW	R18,R4
     A21 940E 060B CALL	fpmule2
     A23 830C      STD	Y+4,R16
     A24 831D      STD	Y+5,R17
     A25 832E      STD	Y+6,R18
     A26 833F      STD	Y+7,R19
     A27 818A      LDD	R24,Y+2
     A28 819B      LDD	R25,Y+3
     A29 9601      ADIW	R24,1
     A2A 839B      STD	Y+3,R25
     A2B 838A      STD	Y+2,R24
     A2C 3082      CPI	R24,2
     A2D E0A0      LDI	R26,0
     A2E 079A      CPC	R25,R26
     A2F F2CC      BLT	0x0A09
     A30 810C      LDD	R16,Y+4
     A31 811D      LDD	R17,Y+5
     A32 812E      LDD	R18,Y+6
     A33 813F      LDD	R19,Y+7
     A34 962C      ADIW	R28,0xC
     A35 940E 0354 CALL	pop_xgsetF000
     A37 9624      ADIW	R28,4
     A38 9508      RET
